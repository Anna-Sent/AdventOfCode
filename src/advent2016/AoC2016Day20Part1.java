package advent2016;

import java.util.ArrayList;
import java.util.Comparator;
import java.util.List;
import java.util.regex.Matcher;
import java.util.regex.Pattern;

public class AoC2016Day20Part1 {
    public static void main(String[] args) {
        long result;

        result = solve("5-8\n" +
                "0-2\n" +
                "4-7");
        assert result == 3;
        System.out.println(result);

        result = solve("1397985562-1399927095\n" +
                "3833336583-3842601761\n" +
                "155087348-169525214\n" +
                "980790001-1002844256\n" +
                "1977065361-1995466542\n" +
                "36411396-50881439\n" +
                "3640866817-3644930814\n" +
                "2920060305-2932561292\n" +
                "2865550534-2890593328\n" +
                "3904139550-3908601694\n" +
                "732092457-735186747\n" +
                "1787486182-1806545011\n" +
                "1491600386-1521258835\n" +
                "2566773511-2568507598\n" +
                "2201927929-2217336001\n" +
                "948934267-952537088\n" +
                "2146567862-2152339711\n" +
                "3301828099-3306223909\n" +
                "476027067-495966189\n" +
                "2724939184-2726302873\n" +
                "2270442513-2292973307\n" +
                "1889038911-1895488302\n" +
                "1578483230-1586330750\n" +
                "2640456298-2651236024\n" +
                "4254290660-4256486512\n" +
                "1399927096-1421446962\n" +
                "3253590561-3255525299\n" +
                "4165315034-4173427102\n" +
                "2875463797-2888803426\n" +
                "3656533491-3659451752\n" +
                "1995466544-2025204494\n" +
                "3947779886-3987268039\n" +
                "1521258837-1538635254\n" +
                "735486056-744123494\n" +
                "230221149-237996554\n" +
                "3652971511-3653104884\n" +
                "3019667516-3024190047\n" +
                "969642901-977292032\n" +
                "3645248112-3645595401\n" +
                "3107902888-3148345903\n" +
                "3202431537-3216963208\n" +
                "1220746925-1223070151\n" +
                "3267241325-3270573499\n" +
                "903635659-931632639\n" +
                "2847235008-2856948110\n" +
                "4224654922-4236958325\n" +
                "856464812-859836714\n" +
                "1804748836-1825290046\n" +
                "4082899236-4091369419\n" +
                "953634177-954158487\n" +
                "185823994-190243500\n" +
                "1964052811-1976412955\n" +
                "2420916052-2424566745\n" +
                "953985134-954947310\n" +
                "2584348542-2614406629\n" +
                "2191157950-2198152569\n" +
                "792721019-802271235\n" +
                "3791161572-3800845341\n" +
                "1864843815-1865425121\n" +
                "1974124152-1989195256\n" +
                "7825290-22939478\n" +
                "440787397-441318113\n" +
                "43830518-44800277\n" +
                "3060173435-3065634268\n" +
                "3165692093-3169381847\n" +
                "1833191664-1858547431\n" +
                "1931833201-1935239219\n" +
                "57759373-67515020\n" +
                "4113876528-4114024438\n" +
                "1942285042-1951328312\n" +
                "1604942683-1619936021\n" +
                "853121890-865841853\n" +
                "1837742103-1838104083\n" +
                "3653104885-3680835942\n" +
                "461163769-461467242\n" +
                "3154277391-3159331043\n" +
                "1689521647-1696389379\n" +
                "4132416435-4154260806\n" +
                "3575213588-3600527150\n" +
                "962221692-989154668\n" +
                "1935239220-1964052809\n" +
                "853763614-856527667\n" +
                "1529882226-1553729207\n" +
                "2908870325-2931754108\n" +
                "2317225465-2326207645\n" +
                "550660010-557063544\n" +
                "2362374340-2370047564\n" +
                "3154439917-3169895876\n" +
                "2971931902-2973888167\n" +
                "3915276202-3919826635\n" +
                "3443104535-3459421692\n" +
                "2452320784-2463651682\n" +
                "2645465344-2652262587\n" +
                "623576471-624671363\n" +
                "251678316-253256260\n" +
                "3892899041-3898838343\n" +
                "464002012-476960875\n" +
                "3778510328-3794259788\n" +
                "1032494594-1042075604\n" +
                "1726869059-1729493515\n" +
                "3050865580-3058403387\n" +
                "4096451268-4105743850\n" +
                "1794978532-1818366498\n" +
                "1687963887-1693429657\n" +
                "1919840326-1931792580\n" +
                "3890085195-3896657673\n" +
                "687727514-697989805\n" +
                "2130251157-2132529361\n" +
                "3709755147-3710261877\n" +
                "2103854130-2136933959\n" +
                "1240822471-1247567713\n" +
                "2490928812-2517604025\n" +
                "2792885084-2793563605\n" +
                "4033319760-4037319553\n" +
                "643767762-679821627\n" +
                "2244191155-2263679816\n" +
                "783204448-826857019\n" +
                "874202754-876456673\n" +
                "944792902-949779600\n" +
                "1014490072-1020320091\n" +
                "3709667893-3710060580\n" +
                "3034067373-3060173434\n" +
                "2380617387-2398492444\n" +
                "3913418161-3925664598\n" +
                "1327421559-1355573458\n" +
                "2029296660-2060654925\n" +
                "1015438314-1024776747\n" +
                "758467105-766508249\n" +
                "3196737715-3203535886\n" +
                "4113219652-4113918216\n" +
                "1900161068-1903498607\n" +
                "737196603-742913680\n" +
                "2762651281-2782581391\n" +
                "1241724970-1273412553\n" +
                "2234377553-2234408980\n" +
                "3485475801-3485850742\n" +
                "2823889184-2825719103\n" +
                "546429220-552909166\n" +
                "3889312069-3891497364\n" +
                "1402469948-1411853934\n" +
                "1612881279-1613899725\n" +
                "609769932-611526589\n" +
                "2821381184-2837715581\n" +
                "2793443367-2793757783\n" +
                "3865830130-3882113243\n" +
                "2302840856-2330280758\n" +
                "1587820493-1589487382\n" +
                "1925168590-1930014298\n" +
                "139238032-141721873\n" +
                "3159767763-3165446614\n" +
                "3124692923-3128639222\n" +
                "2270740594-2281991663\n" +
                "1338789977-1355677780\n" +
                "1748641567-1751344173\n" +
                "1416549076-1421417040\n" +
                "4096185893-4097103352\n" +
                "2627343873-2650750532\n" +
                "3948622110-3962424399\n" +
                "3734105837-3770337993\n" +
                "557813236-573792261\n" +
                "551603476-555886358\n" +
                "1030836305-1032494592\n" +
                "1839182718-1840151300\n" +
                "833662859-842106273\n" +
                "1375985004-1393778055\n" +
                "1219332117-1221436570\n" +
                "191846359-198587644\n" +
                "984829875-987740125\n" +
                "3262588159-3269982376\n" +
                "4113255424-4114203177\n" +
                "3754035901-3768277382\n" +
                "182356017-189508231\n" +
                "4235072872-4237128944\n" +
                "2423845665-2424035634\n" +
                "2247134633-2249391253\n" +
                "1857070653-1864762228\n" +
                "2960971255-2986516950\n" +
                "3609807449-3629876533\n" +
                "4232009521-4238664410\n" +
                "2517604027-2532315540\n" +
                "2284458125-2290950480\n" +
                "1864762230-1865525184\n" +
                "1534410012-1552842249\n" +
                "1413197933-1418525745\n" +
                "943004746-952141611\n" +
                "3692615771-3699711756\n" +
                "1641152229-1667111341\n" +
                "3747007580-3765218619\n" +
                "2379349853-2380702573\n" +
                "2147254282-2171495074\n" +
                "1839659452-1840812997\n" +
                "3895746954-3895831312\n" +
                "1969771475-1979046124\n" +
                "3083853152-3107315352\n" +
                "3503489045-3537546786\n" +
                "2926162506-2931745365\n" +
                "1533535067-1553811000\n" +
                "4201206086-4201731554\n" +
                "3151335418-3163702483\n" +
                "3589540929-3593463200\n" +
                "1469107231-1474901685\n" +
                "1696389381-1748641566\n" +
                "3910219915-3918863153\n" +
                "3431523383-3432952214\n" +
                "4219640842-4234037045\n" +
                "2150930801-2173615229\n" +
                "3364393582-3403187084\n" +
                "3294593092-3301828098\n" +
                "690072645-725395887\n" +
                "1123029535-1135646014\n" +
                "122125578-124303606\n" +
                "4157086822-4157139009\n" +
                "3561413702-3569934827\n" +
                "3814389694-3815485217\n" +
                "1931792582-1935186677\n" +
                "3601713750-3623094300\n" +
                "2322435284-2327697391\n" +
                "1362099577-1366674586\n" +
                "628898939-635522883\n" +
                "3117359644-3135324932\n" +
                "1119748429-1139457622\n" +
                "3998554882-4014887284\n" +
                "2837930003-2838092963\n" +
                "2123885505-2126641084\n" +
                "559576606-579617582\n" +
                "2712491763-2723761235\n" +
                "1391544337-1397769783\n" +
                "3416595318-3422405875\n" +
                "3403187085-3409221687\n" +
                "1096346351-1099114997\n" +
                "2703273295-2705328183\n" +
                "4113785067-4113908859\n" +
                "206706372-209083880\n" +
                "3270160481-3271551430\n" +
                "3285776930-3292794583\n" +
                "461234099-461937747\n" +
                "750957483-775003729\n" +
                "4184090903-4204400455\n" +
                "362276042-362676210\n" +
                "4249953310-4250510076\n" +
                "3477313433-3479866795\n" +
                "3421127715-3428203812\n" +
                "900263617-943004744\n" +
                "835969757-836263940\n" +
                "1368935057-1381717988\n" +
                "149206242-166300349\n" +
                "2154227228-2154605899\n" +
                "1906507809-1919840325\n" +
                "305745049-306370999\n" +
                "1726861064-1728699678\n" +
                "1357107426-1362288056\n" +
                "799761595-801167452\n" +
                "229374054-231369444\n" +
                "1529834231-1535566821\n" +
                "754999390-757160209\n" +
                "1889190091-1897618002\n" +
                "2138256423-2146567860\n" +
                "2295710373-2336599718\n" +
                "1019914990-1023404843\n" +
                "969695821-980184547\n" +
                "1443906340-1473362681\n" +
                "833198360-836801840\n" +
                "1598512205-1604942681\n" +
                "3199387842-3210382637\n" +
                "3895688557-3895758051\n" +
                "1377900216-1382117658\n" +
                "3504189983-3527083803\n" +
                "3577792742-3598561740\n" +
                "613575187-632091293\n" +
                "2551456957-2551799726\n" +
                "4058092124-4103653807\n" +
                "3381308208-3381342063\n" +
                "13984873-15227949\n" +
                "1727002523-1727443872\n" +
                "2357289728-2361812594\n" +
                "3876054666-3879516291\n" +
                "3278228783-3281894754\n" +
                "1640252019-1649137061\n" +
                "2372620720-2374166948\n" +
                "4109383543-4110464683\n" +
                "2069304258-2091857479\n" +
                "4107063052-4115320079\n" +
                "700724903-704038468\n" +
                "2443015838-2445045788\n" +
                "2487239190-2506741363\n" +
                "2840932452-2854276703\n" +
                "3023346911-3024737732\n" +
                "855982891-864879970\n" +
                "3794259789-3803801069\n" +
                "500728802-502979928\n" +
                "2043915271-2045977041\n" +
                "2883286342-2889401600\n" +
                "3645471325-3645615199\n" +
                "2570503460-2572567939\n" +
                "602978860-611682641\n" +
                "3014237470-3019165777\n" +
                "82763197-99917251\n" +
                "3459591973-3480841023\n" +
                "3726344670-3753436804\n" +
                "778825357-781459133\n" +
                "3501129290-3535003794\n" +
                "2110603192-2124722020\n" +
                "783458439-789801399\n" +
                "3244733157-3257526606\n" +
                "3107315354-3107902887\n" +
                "3485245437-3487101327\n" +
                "2981323037-2986657197\n" +
                "4250870060-4262722661\n" +
                "402547398-411983817\n" +
                "1723037247-1732297154\n" +
                "2168632715-2175630061\n" +
                "35807058-48835050\n" +
                "3967606126-3981776003\n" +
                "1175337592-1177759663\n" +
                "531093126-538642617\n" +
                "3639437354-3641516465\n" +
                "2313078075-2334991622\n" +
                "2166324817-2172350995\n" +
                "4271478996-4279496401\n" +
                "4224492579-4228356386\n" +
                "213570433-219586693\n" +
                "3577738508-3578878626\n" +
                "2004747361-2023251091\n" +
                "638907979-651338734\n" +
                "2042269899-2052960282\n" +
                "3459421693-3470010193\n" +
                "1255554697-1256876442\n" +
                "547623253-554247422\n" +
                "1091999863-1096115712\n" +
                "3603876264-3620115458\n" +
                "3743564125-3764787998\n" +
                "1727097235-1727512693\n" +
                "3360184134-3361837705\n" +
                "2693328393-2699639043\n" +
                "944625756-949285354\n" +
                "2867948986-2885571238\n" +
                "3815862045-3817192748\n" +
                "85521215-90999860\n" +
                "3492959364-3496450746\n" +
                "2370047566-2373514273\n" +
                "978064227-982934994\n" +
                "3002922234-3034067371\n" +
                "3702198906-3708772192\n" +
                "1762248212-1777087215\n" +
                "3200048313-3217284316\n" +
                "310731268-314864040\n" +
                "4256139187-4257030493\n" +
                "4225267250-4242760473\n" +
                "4236421277-4249953308\n" +
                "456593320-464031864\n" +
                "4173427103-4219640840\n" +
                "3415471996-3417373524\n" +
                "517786225-518353134\n" +
                "2348225752-2349209975\n" +
                "988767498-1002507583\n" +
                "251787031-253294331\n" +
                "2049843175-2053651832\n" +
                "3272267359-3280700773\n" +
                "1880334878-1897812119\n" +
                "2180116083-2181662625\n" +
                "1325501561-1332569991\n" +
                "1977956589-1980243809\n" +
                "1419475215-1429076341\n" +
                "1571066989-1593324419\n" +
                "1908591293-1926977363\n" +
                "892862026-900263616\n" +
                "2375708935-2420847226\n" +
                "4252569311-4259706067\n" +
                "611682642-636576980\n" +
                "4069864506-4088316591\n" +
                "3429899073-3443104533\n" +
                "2881173909-2904242568\n" +
                "838248538-839457347\n" +
                "1040048945-1048427339\n" +
                "2790325698-2817756908\n" +
                "259065357-260284546\n" +
                "4251177319-4254787503\n" +
                "1727035024-1727220036\n" +
                "1750189264-1751440819\n" +
                "1182854783-1199103982\n" +
                "1565110550-1598512204\n" +
                "1870272544-1906507807\n" +
                "2294404836-2313311754\n" +
                "605934295-611508831\n" +
                "3164119802-3167924307\n" +
                "1833545461-1834287253\n" +
                "2077509652-2090604632\n" +
                "2880238444-2890262424\n" +
                "1142031337-1148518669\n" +
                "4005987455-4006591959\n" +
                "1570054798-1576009746\n" +
                "2071505543-2096650688\n" +
                "3485106835-3485722365\n" +
                "577813461-602978858\n" +
                "2776866362-2786901141\n" +
                "652895584-671838947\n" +
                "3299449839-3300020065\n" +
                "1623460193-1638054811\n" +
                "3340666115-3353087971\n" +
                "2160043893-2166478186\n" +
                "1096507969-1101378526\n" +
                "800088830-803013264\n" +
                "13565145-17743483\n" +
                "85024888-98806837\n" +
                "3823224649-3827480049\n" +
                "3931062541-3938277752\n" +
                "1012892921-1030836304\n" +
                "1565255853-1583189516\n" +
                "1647708193-1660811906\n" +
                "657010776-666847464\n" +
                "1839278378-1840330117\n" +
                "1008973854-1015912839\n" +
                "1910283066-1913763928\n" +
                "837557263-838411350\n" +
                "1282815406-1288995029\n" +
                "3980611-5584893\n" +
                "3148345905-3165692092\n" +
                "2742421263-2776592447\n" +
                "229688447-231610502\n" +
                "2743245719-2776866361\n" +
                "3878098271-3883221309\n" +
                "801316931-804135040\n" +
                "1471664269-1473302685\n" +
                "1667111343-1669791317\n" +
                "1610947175-1617629889\n" +
                "2003085048-2013051153\n" +
                "3307457133-3360184133\n" +
                "1195340209-1203343093\n" +
                "2025204495-2028453665\n" +
                "32923438-47156091\n" +
                "3168696227-3170592073\n" +
                "3235742576-3255614827\n" +
                "2266729227-2280080556\n" +
                "775349160-775813901\n" +
                "1473362682-1482720843\n" +
                "3572312385-3575213587\n" +
                "528189743-538093910\n" +
                "2448613175-2454994921\n" +
                "2843283603-2855830818\n" +
                "2890593329-2907911642\n" +
                "153191907-164713586\n" +
                "4043150608-4096451267\n" +
                "605875663-610305444\n" +
                "3021650-3111593\n" +
                "2420847228-2420916051\n" +
                "4105743852-4113419273\n" +
                "2460397045-2462412256\n" +
                "567585936-602788586\n" +
                "1727082530-1727671255\n" +
                "4033434900-4037286987\n" +
                "4144511592-4162791978\n" +
                "3075535768-3080851776\n" +
                "1639907267-1641352662\n" +
                "920282814-940069234\n" +
                "3826936712-3829839713\n" +
                "1916925688-1925357559\n" +
                "1845213589-1860279111\n" +
                "1854550234-1855331759\n" +
                "3065495280-3066648567\n" +
                "170353613-171186253\n" +
                "3212824412-3220097963\n" +
                "2853141261-2853700351\n" +
                "3556640-3614471\n" +
                "1976412956-1988224560\n" +
                "3296627900-3297163117\n" +
                "725395889-749479392\n" +
                "2233996777-2234267091\n" +
                "1757843247-1759325879\n" +
                "4279435928-4280514617\n" +
                "801130429-802441496\n" +
                "3751681078-3760769957\n" +
                "2347982977-2366662085\n" +
                "4235682663-4235983270\n" +
                "3496282296-3499776408\n" +
                "3821333501-3824224274\n" +
                "2723761236-2742421261\n" +
                "2827790660-2835001032\n" +
                "1935288812-1941728417\n" +
                "1726855325-1728050569\n" +
                "1726544710-1727430469\n" +
                "3940016790-3941936080\n" +
                "546101318-552097193\n" +
                "4184013882-4199809831\n" +
                "2425846522-2426458497\n" +
                "3361306788-3362865310\n" +
                "453108094-456181406\n" +
                "860613212-892862024\n" +
                "362299769-362572315\n" +
                "17407637-23147236\n" +
                "3504547466-3505717615\n" +
                "985733821-987978530\n" +
                "2735458050-2740276231\n" +
                "270737999-279345075\n" +
                "1787997707-1795677405\n" +
                "3680835944-3709667892\n" +
                "3818408771-3825605323\n" +
                "16201770-24236234\n" +
                "1158649495-1176112357\n" +
                "952141612-961131855\n" +
                "2690399120-2697050905\n" +
                "2837757591-2838004534\n" +
                "3487101328-3501129288\n" +
                "3888980907-3889308041\n" +
                "3139002312-3144216973\n" +
                "1812389934-1832528171\n" +
                "4062104130-4081249321\n" +
                "4109985868-4116611691\n" +
                "261499681-305729049\n" +
                "414982559-415941657\n" +
                "2837715582-2837939443\n" +
                "1612314605-1613532579\n" +
                "1847293843-1854555869\n" +
                "2048771211-2052518908\n" +
                "701565294-713634431\n" +
                "208666820-210559343\n" +
                "2827420738-2834300681\n" +
                "4141218867-4154796647\n" +
                "1970845509-1978651442\n" +
                "1552842250-1565110548\n" +
                "412226938-422230809\n" +
                "596789633-599083332\n" +
                "571536075-580257978\n" +
                "4162791979-4165315032\n" +
                "2578608882-2600367385\n" +
                "2953753655-2967704893\n" +
                "1620638998-1623460191\n" +
                "3652181866-3653081107\n" +
                "1226734954-1263413684\n" +
                "208300600-209821102\n" +
                "3019452277-3019912348\n" +
                "1614701447-1620638997\n" +
                "3941936081-3996282520\n" +
                "3237157247-3249234449\n" +
                "2348186235-2349807460\n" +
                "3562813382-3565898388\n" +
                "3710261879-3738818624\n" +
                "2629772693-2635508362\n" +
                "2443958025-2447376004\n" +
                "399974274-423562472\n" +
                "1778846705-1790086524\n" +
                "2234646109-2266729225\n" +
                "1668227842-1689521646\n" +
                "3549361830-3564965209\n" +
                "1286877599-1288249900\n" +
                "2117171419-2125943104\n" +
                "3620689032-3652181864\n" +
                "3299261942-3299688775\n" +
                "1490791491-1514099208\n" +
                "3817192749-3833336581\n" +
                "3410915712-3429899072\n" +
                "541342032-546429219\n" +
                "918411171-924314929\n" +
                "2182745019-2185607312\n" +
                "2212606518-2214621946\n" +
                "1779983196-1804748835\n" +
                "1936162035-1950945741\n" +
                "3704618658-3705051939\n" +
                "1764680564-1778846703\n" +
                "2698697285-2709059938\n" +
                "1326793529-1329535111\n" +
                "3702328552-3704015912\n" +
                "2008848662-2015608293\n" +
                "1231732813-1247626190\n" +
                "1750754899-1752420348\n" +
                "1093229127-1099058712\n" +
                "4234037046-4236997947\n" +
                "3493552026-3497919102\n" +
                "3235053958-3252106974\n" +
                "4018470466-4036608102\n" +
                "701727470-719544055\n" +
                "574115703-596179511\n" +
                "3202587506-3210265222\n" +
                "698102469-706160479\n" +
                "1832528173-1833853020\n" +
                "441673267-452453492\n" +
                "2911169435-2921998083\n" +
                "2229856423-2234646108\n" +
                "2196901664-2204841238\n" +
                "1675352425-1691381949\n" +
                "4250455374-4250513503\n" +
                "3237515102-3260318492\n" +
                "171161905-175877664\n" +
                "2581539215-2596898898\n" +
                "4004311193-4012385537\n" +
                "1324083574-1324546090\n" +
                "4096883078-4097164771\n" +
                "780817620-784569858\n" +
                "208242283-211110211\n" +
                "1330525084-1336070077\n" +
                "4008229513-4009226682\n" +
                "834427868-838848257\n" +
                "348999024-350410733\n" +
                "467200453-500728800\n" +
                "4121379695-4138903168\n" +
                "2949401565-2976409803\n" +
                "3917170902-3926057375\n" +
                "3071781061-3074945017\n" +
                "3299433864-3300019479\n" +
                "3894069601-3909653487\n" +
                "3741129648-3770933677\n" +
                "1337537272-1347157874\n" +
                "216818049-245842326\n" +
                "1626689836-1641152228\n" +
                "1112292760-1131928222\n" +
                "1651219196-1654305795\n" +
                "506374440-513152599\n" +
                "430626871-453108093\n" +
                "3297525469-3306042698\n" +
                "3256944-3556639\n" +
                "2937659849-2949401563\n" +
                "3915476081-3917349752\n" +
                "170273133-170386354\n" +
                "3896834322-3906255111\n" +
                "2911101673-2912870470\n" +
                "2383625542-2388030504\n" +
                "2202988069-2215864531\n" +
                "3931566185-3938787313\n" +
                "3893325063-3903409791\n" +
                "1677593295-1694860962\n" +
                "1726429432-1726959531\n" +
                "550814749-553019695\n" +
                "328183437-332828273\n" +
                "2463651684-2490928811\n" +
                "2532315541-2561777512\n" +
                "902393943-906380753\n" +
                "3255012511-3262588157\n" +
                "464031865-471880579\n" +
                "987894291-990856994\n" +
                "2994108099-3016224261\n" +
                "1464668452-1468573067\n" +
                "3817599599-3819192240\n" +
                "4281205900-4284988083\n" +
                "1610485824-1614835930\n" +
                "2922504894-2943149643\n" +
                "1366674588-1391544336\n" +
                "2716673569-2724196148\n" +
                "2136933960-2141630673\n" +
                "952929934-954132488\n" +
                "102430362-103410808\n" +
                "1097408788-1102041819\n" +
                "1411884657-1413275434\n" +
                "1569519099-1595018443\n" +
                "3314630119-3351858696\n" +
                "1159063633-1161383669\n" +
                "1306210365-1310168207\n" +
                "65606761-70210379\n" +
                "969367195-1005028750\n" +
                "305729050-305810398\n" +
                "2964351925-2968998528\n" +
                "2586831864-2598752947\n" +
                "2717800067-2732550815\n" +
                "1357733985-1357970980\n" +
                "3142078167-3146050939\n" +
                "836110255-836394578\n" +
                "2855830819-2865550532\n" +
                "1854118661-1854889002\n" +
                "3275779087-3291457029\n" +
                "481061771-497879373\n" +
                "2572567941-2573814074\n" +
                "3653825904-3656453968\n" +
                "1752420350-1764680563\n" +
                "3381301699-3381332932\n" +
                "1499205864-1508841960\n" +
                "2568948534-2571512127\n" +
                "124303608-171161904\n" +
                "834540652-842353886\n" +
                "3296634137-3297348568\n" +
                "756487393-757398433\n" +
                "2920277931-2929967348\n" +
                "775003730-775425950\n" +
                "4006843235-4009222380\n" +
                "4173461462-4180792939\n" +
                "2573814075-2627343871\n" +
                "3379943605-3385769428\n" +
                "3613135813-3622915872\n" +
                "456181408-463675190\n" +
                "1679128363-1689145745\n" +
                "1771462652-1775663407\n" +
                "3896043704-3896601721\n" +
                "3668521412-3670169542\n" +
                "3189676166-3211906595\n" +
                "4178058206-4197742264\n" +
                "649282356-651528503\n" +
                "4118830219-4151607552\n" +
                "3403081369-3405163204\n" +
                "1295416035-1327421558\n" +
                "3535003795-3540392660\n" +
                "2521028658-2521094946\n" +
                "3378794770-3384471028\n" +
                "3876141848-3885724936\n" +
                "3415436447-3434089766\n" +
                "3236961463-3242080308\n" +
                "1289735149-1320942247\n" +
                "20583890-31053879\n" +
                "2039793197-2062178184\n" +
                "3361173897-3362649522\n" +
                "476445996-491796622\n" +
                "2305715287-2337252117\n" +
                "1407865145-1413213862\n" +
                "100343325-122125577\n" +
                "4259473250-4260027959\n" +
                "1539624652-1558856769\n" +
                "3388893007-3406562225\n" +
                "3815438953-3819219050\n" +
                "88644450-100343323\n" +
                "2838092965-2853295826\n" +
                "2298582785-2308283977\n" +
                "1911552487-1924425897\n" +
                "3486137486-3495337804\n" +
                "3087487707-3105123828\n" +
                "2449249575-2459990446\n" +
                "1114195378-1147840884\n" +
                "3084130783-3090098247\n" +
                "280604127-291812349\n" +
                "251655795-252002640\n" +
                "2065738411-2068050329\n" +
                "3540392662-3561413701\n" +
                "4108709270-4110339849\n" +
                "185357325-191846357\n" +
                "2988550972-3002922233\n" +
                "2008583503-2009174592\n" +
                "367514957-375053863\n" +
                "3738337-5109287\n" +
                "2068050330-2103854128\n" +
                "2185761689-2201113375\n" +
                "502979929-541342030\n" +
                "437711847-441825502\n" +
                "763342493-770307022\n" +
                "3891568242-3896055908\n" +
                "2771403009-2783873057\n" +
                "857296477-865365400\n" +
                "2372996602-2415318753\n" +
                "209779549-212434153\n" +
                "3904992626-3910219913\n" +
                "2976409804-2983591595\n" +
                "3614472-4019606\n" +
                "3429649651-3432451145\n" +
                "2312224052-2330392688\n" +
                "3889124925-3889312068\n" +
                "3368044346-3369236254\n" +
                "2485542419-2506962662\n" +
                "3703774963-3704692844\n" +
                "249324444-259065356\n" +
                "3038718563-3063082755\n" +
                "2348008128-2348750596\n" +
                "4027659985-4040018381\n" +
                "4020167637-4028011463\n" +
                "631597603-638907977\n" +
                "156806924-163856510\n" +
                "465625162-475575707\n" +
                "1653345924-1655794173\n" +
                "644029368-673749955\n" +
                "1342645425-1348056082\n" +
                "754961620-757509941\n" +
                "2185607313-2229856421\n" +
                "2430693014-2452320783\n" +
                "2423618253-2423991135\n" +
                "2578007008-2593849390\n" +
                "251455290-252167220\n" +
                "2141431440-2145256393\n" +
                "461551382-490688234\n" +
                "1280627802-1282187341\n" +
                "2447416346-2448485092\n" +
                "801034819-803950109\n" +
                "3803801071-3817168598\n" +
                "2791159575-2797552524\n" +
                "2444538618-2447695611\n" +
                "3656900217-3658497760\n" +
                "362424586-362913246\n" +
                "2315692184-2318703938\n" +
                "2658294991-2705851874\n" +
                "758225777-762221309\n" +
                "3220097965-3253590560\n" +
                "3918863154-3937848140\n" +
                "3842601762-3867989792\n" +
                "1362989964-1365638761\n" +
                "2669543622-2698580716\n" +
                "204441701-216667513\n" +
                "3337068522-3351226708\n" +
                "2910214082-2911637865\n" +
                "2887286425-2894235722\n" +
                "2556506098-2564781736\n" +
                "3660974732-3670236178\n" +
                "3738818625-3765658510\n" +
                "3926612436-3931754899\n" +
                "849660339-860613211\n" +
                "3878152839-3882588354\n" +
                "1198564716-1203493708\n" +
                "90563967-91509385\n" +
                "4113419274-4118830217\n" +
                "2421569872-2430693012\n" +
                "1380512818-1382191639\n" +
                "2171495075-2182745017\n" +
                "2346496816-2347982976\n" +
                "2773187116-2776527627\n" +
                "3264380514-3275779086\n" +
                "2795335811-2807483836\n" +
                "1255625643-1259049524\n" +
                "3039851327-3062062714\n" +
                "3477125643-3485106833\n" +
                "368161721-385647773\n" +
                "557063546-567450813\n" +
                "2662245837-2698867380\n" +
                "409471723-415008368\n" +
                "2692399192-2709671522\n" +
                "3289361982-3294593090\n" +
                "2444382077-2446243156\n" +
                "995864334-1008973852\n" +
                "1485359185-1511483438\n" +
                "3170296689-3173219013\n" +
                "651528504-684359142\n" +
                "2799805080-2819283989\n" +
                "2745894337-2761860632\n" +
                "4021069786-4034189388\n" +
                "2423235028-2423776100\n" +
                "1161581883-1172788321\n" +
                "575303235-584246627\n" +
                "1323324671-1324380624\n" +
                "423562473-430626869\n" +
                "3173219015-3207487851\n" +
                "256367467-256655264\n" +
                "2729359684-2736808477\n" +
                "2979779055-2988550970\n" +
                "1482720845-1491600385\n" +
                "1057830454-1067468142\n" +
                "107593407-117739880\n" +
                "251911362-252150667\n" +
                "3569934829-3575123572\n" +
                "2241251261-2263701349\n" +
                "2726382705-2727247227\n" +
                "4037319554-4043150606\n" +
                "3718405500-3739070428\n" +
                "2364203325-2366532950\n" +
                "836023031-836878401\n" +
                "961131857-995864333\n" +
                "3961933297-3977917454\n" +
                "3180447251-3212824411\n" +
                "3124189059-3126106003\n" +
                "793312386-802938899\n" +
                "3873230388-3877536365\n" +
                "2841402828-2852690950\n" +
                "2931754109-2946377103\n" +
                "4097161122-4098833023\n" +
                "2953494240-2963922968\n" +
                "1016080923-1023809512\n" +
                "2305965588-2325470268\n" +
                "1726429959-1728139098\n" +
                "1725984972-1746517984\n" +
                "2280080557-2294404834\n" +
                "1453817212-1468119920\n" +
                "3343366097-3354792825\n" +
                "2726120736-2727168410\n" +
                "1726047629-1726491275\n" +
                "2425599810-2428632507\n" +
                "1127809348-1136655248\n" +
                "784569859-830872706\n" +
                "3362865312-3399674855\n" +
                "467374870-490345878\n" +
                "2028166733-2029296658\n" +
                "3793434985-3799550158\n" +
                "4113324238-4114378130\n" +
                "2768224805-2776292356\n" +
                "3076910664-3083853151\n" +
                "3795367294-3799559727\n" +
                "983334314-985924731\n" +
                "2566325429-2567644886\n" +
                "2079828370-2095628301\n" +
                "1355677782-1357107425\n" +
                "3139807-3256943\n" +
                "2297016509-2339606996\n" +
                "3937987517-3940016788\n" +
                "3111594-3180044\n" +
                "3408799234-3410915710\n" +
                "2736163676-2737085107\n" +
                "2927299659-2930923781\n" +
                "2828368238-2835482134\n" +
                "2924361649-2933817173\n" +
                "3278336262-3282205864\n" +
                "209200196-211114889\n" +
                "1089312986-1101840140\n" +
                "2426098602-2426594407\n" +
                "3761524602-3771101074\n" +
                "4038400571-4039718550\n" +
                "4278817904-4281979539\n" +
                "1971790010-1982080495\n" +
                "2482451447-2482859303\n" +
                "696142504-708558552\n" +
                "832751897-838668629\n" +
                "522885199-537712867\n" +
                "3854296653-3860724814\n" +
                "4250257176-4250870059\n" +
                "1098058891-1101871591\n" +
                "2041494246-2044474847\n" +
                "3379302636-3380200608\n" +
                "2823631138-2825091086\n" +
                "3114946479-3141035176\n" +
                "2564781738-2570503459\n" +
                "3066648569-3072839529\n" +
                "2963998950-2966815574\n" +
                "3996282522-4010140708\n" +
                "2609189498-2612898027\n" +
                "1398040334-1399196426\n" +
                "2705851875-2712491761\n" +
                "3303896197-3307457131\n" +
                "3072710194-3078315569\n" +
                "2650750533-2658294989\n" +
                "125494120-152726161\n" +
                "1799712687-1813651344\n" +
                "4113647358-4114354821\n" +
                "914689746-931400632\n" +
                "2334991623-2346496814\n" +
                "952020939-952231689\n" +
                "3279484720-3279924084\n" +
                "826369329-829381680\n" +
                "306371001-356731744\n" +
                "2545936899-2562194811\n" +
                "755902693-769100113\n" +
                "2423872436-2428440493\n" +
                "1040252532-1043084518\n" +
                "2531373947-2564360722\n" +
                "3758158314-3765326552\n" +
                "250882458-253102421\n" +
                "2445299323-2451474922\n" +
                "2845734926-2859990778\n" +
                "2571586320-2571725933\n" +
                "4010140709-4018470464\n" +
                "1397769785-1398762710\n" +
                "3812038748-3819957572\n" +
                "2446738279-2447892957\n" +
                "3600527152-3609409007\n" +
                "260284548-271403358\n" +
                "108405773-115248353\n" +
                "1910315960-1918268562\n" +
                "1323436354-1327278720\n" +
                "2234068374-2234384404\n" +
                "982370550-984890793\n" +
                "362487749-363332785\n" +
                "3703404287-3704710600\n" +
                "511536791-531472470\n" +
                "1204860806-1211356557\n" +
                "1280824569-1283027536\n" +
                "1864956505-1865664159\n" +
                "1264539978-1280627800\n" +
                "838668630-849660337\n" +
                "1039302291-1048802154\n" +
                "3820162182-3829891468\n" +
                "252725400-258978812\n" +
                "3811611218-3815532558\n" +
                "5584894-20583889\n" +
                "2571534738-2571657850\n" +
                "383938370-391077230\n" +
                "732225856-735643042\n" +
                "2968582589-2972324720\n" +
                "2379822184-2380941432\n" +
                "775813903-782941501\n" +
                "836283753-836553990\n" +
                "2786901143-2790325697\n" +
                "2907911644-2910586722\n" +
                "3879031171-3883342655\n" +
                "2446835992-2450584620\n" +
                "3604970524-3620689031\n" +
                "3656986634-3664253237\n" +
                "108870276-116802953\n" +
                "50881441-82763196\n" +
                "830872708-834595234\n" +
                "948787824-952327285\n" +
                "3554278607-3558372901\n" +
                "1411483095-1443906338\n" +
                "1305613100-1306576996\n" +
                "1171167570-1175215348\n" +
                "145365808-166164576\n" +
                "3344972328-3354937927\n" +
                "178346121-180017093\n" +
                "3487950867-3498067707\n" +
                "3455826248-3468331688\n" +
                "1357654405-1361499079\n" +
                "2373804146-2375708934\n" +
                "1682091088-1685006321\n" +
                "2532666674-2554100432\n" +
                "3872534964-3888980905\n" +
                "684359144-690072644\n" +
                "31053881-36411395\n" +
                "749479393-750957481\n" +
                "1233001829-1257233242\n" +
                "1109953682-1114195377\n" +
                "175877666-185357324\n" +
                "1283027537-1289735147\n" +
                "3374715947-3381800912\n" +
                "1283434504-1286474690\n" +
                "1402640030-1423128613\n" +
                "1426046568-1440437597\n" +
                "3021217411-3028438706\n" +
                "3449839444-3455646128\n" +
                "2192814747-2207353667\n" +
                "1039244541-1044508076\n" +
                "363332786-399974272\n" +
                "620349463-624462815\n" +
                "3118427268-3142548507\n" +
                "1177759665-1219332116\n" +
                "1223070153-1264539977\n" +
                "2469319931-2491726485\n" +
                "1101840141-1109953680\n" +
                "1048427340-1089312984\n" +
                "2577948853-2584544199\n" +
                "43965520-47689181\n" +
                "1833568506-1857070652\n" +
                "356731745-362276040\n" +
                "4262722663-4294967295\n" +
                "2632338905-2641519671\n" +
                "0-3021649\n" +
                "1148518671-1158649494\n" +
                "3562116150-3562242974\n" +
                "567450814-585792807\n" +
                "198587645-249324442\n" +
                "3756871898-3778510326\n" +
                "2815453754-2821381182\n" +
                "3562113904-3562138636\n" +
                "2567358294-2571273144\n" +
                "2061605698-2065382934\n" +
                "1865301101-1870272543\n" +
                "2565458232-2569021972\n" +
                "267026988-275785393\n" +
                "2570888765-2571620263\n" +
                "179248341-180073497\n" +
                "267066134-277088479\n" +
                "2060654926-2062597974\n" +
                "2065382936-2066893485\n" +
                "3298704119-3299564801\n" +
                "2194534845-2218883408");
        assert result == 31053880;
        System.out.println(result);
    }

    private static class Value {
        long value;
        boolean start;

        Value(long value, boolean start) {
            this.value = value;
            this.start = start;
        }

        long getValue() {
            return value;
        }
    }

    private static long solve(String s) {
        List<Value> values = new ArrayList<>();
        String[] parts = s.split("\n");
        for (String part : parts) {
            Pattern p = Pattern.compile("(\\d+)-(\\d+)");
            Matcher m = p.matcher(part);
            if (m.matches()) {
                long min = Long.parseLong(m.group(1));
                long max = Long.parseLong(m.group(2));
                values.add(new Value(min, true));
                values.add(new Value(max, false));
                assert min <= max : "invalid input";
            } else {
                throw new RuntimeException("invalid input");
            }
        }
        values.sort(Comparator.comparingLong(Value::getValue));
        values.stream().forEach(x -> System.out.format("%d-%s ", x.value, x.start ? "s" : "e"));
        System.out.println();
        long counter = 0;
        for (int i = 0; i < values.size(); ++i) {
            Value value = values.get(i);
            if (value.start) {
                ++counter;
            } else {
                --counter;
            }
            if (counter == 0) {
                if (i + 1 < values.size() && values.get(i + 1).value - value.value > 1) {
                    return value.value + 1;
                }
            }
        }
        return values.get(values.size() - 1).value + 1;
    }
}