package advent.advent2024

private var result = 0

fun main() {
    result = test(
        """
            #####
            .####
            .####
            .####
            .#.#.
            .#...
            .....

            #####
            ##.##
            .#.##
            ...##
            ...#.
            ...#.
            .....

            .....
            #....
            #....
            #...#
            #.#.#
            #.###
            #####

            .....
            .....
            #.#..
            ###..
            ###.#
            ###.#
            #####

            .....
            .....
            .....
            #....
            #.#..
            #.#.#
            #####
    """.trimIndent()
    )
    check(3, result)

    result = test(
        """
            #####
            ##.##
            ##..#
            #....
            .....
            .....
            .....

            .....
            ..#..
            ..#..
            ..#.#
            ..#.#
            .####
            #####

            .....
            .....
            ..#..
            .##.#
            ###.#
            #####
            #####

            .....
            .#.#.
            .####
            .####
            #####
            #####
            #####

            .....
            ..#..
            ..##.
            ..##.
            #.##.
            ####.
            #####

            .....
            ....#
            ....#
            #...#
            #..##
            #.###
            #####

            #####
            ####.
            #.##.
            ..#..
            .....
            .....
            .....

            #####
            .####
            .####
            ..#.#
            .....
            .....
            .....

            #####
            #####
            ##.##
            .#.##
            .#..#
            .#..#
            .....

            .....
            .....
            ...#.
            ...#.
            #.##.
            #.###
            #####

            #####
            #.#.#
            #....
            #....
            #....
            .....
            .....

            .....
            ....#
            ....#
            #...#
            ##..#
            ##.##
            #####

            .....
            #..#.
            #..#.
            #.##.
            #.##.
            ####.
            #####

            #####
            #.#.#
            #.#.#
            #.#.#
            ..#..
            .....
            .....

            .....
            .....
            #....
            ##..#
            ##.##
            ##.##
            #####

            #####
            #####
            #####
            #.##.
            #.##.
            ...#.
            .....

            #####
            .##.#
            .##..
            .#...
            .#...
            .#...
            .....

            .....
            ....#
            ....#
            ..#.#
            #.#.#
            ###.#
            #####

            #####
            #.##.
            #.#..
            #.#..
            ..#..
            ..#..
            .....

            .....
            .#...
            .#.#.
            .#.#.
            .####
            .####
            #####

            .....
            ...#.
            .#.#.
            ####.
            #####
            #####
            #####

            #####
            ##.#.
            #..#.
            #..#.
            #..#.
            #....
            .....

            #####
            .####
            .###.
            .#.#.
            .....
            .....
            .....

            .....
            .....
            ...#.
            .#.#.
            .#.#.
            .#.##
            #####

            .....
            ..#..
            ..#.#
            ..#.#
            #.###
            #####
            #####

            .....
            #.#..
            #.#..
            #.##.
            #.###
            #####
            #####

            .....
            ..#..
            ..#.#
            #.#.#
            #.###
            #.###
            #####

            #####
            #####
            ##.#.
            .#.#.
            .#...
            .#...
            .....

            #####
            ##.#.
            ##.#.
            ##.#.
            #....
            #....
            .....

            #####
            #####
            #.###
            #.#.#
            #....
            .....
            .....

            .....
            .....
            ...#.
            ...#.
            .#.#.
            .#.#.
            #####

            .....
            ....#
            ....#
            ...##
            ..###
            .####
            #####

            #####
            ##.#.
            ##.#.
            .#.#.
            .#.#.
            .#...
            .....

            .....
            .#.#.
            .#.#.
            .####
            #####
            #####
            #####

            .....
            #..#.
            #..#.
            #..#.
            ##.#.
            ##.##
            #####

            .....
            .....
            .....
            ..#..
            #.##.
            #.##.
            #####

            #####
            #####
            #####
            #.#.#
            #.#.#
            ..#..
            .....

            .....
            ...#.
            ...#.
            ..###
            ..###
            #.###
            #####

            .....
            .#...
            .#...
            .#..#
            ##..#
            ##.##
            #####

            #####
            .#.#.
            .#.#.
            .#.#.
            .#.#.
            .#...
            .....

            .....
            ...#.
            ..##.
            ..##.
            .###.
            #####
            #####

            #####
            ####.
            ####.
            ####.
            .###.
            ..#..
            .....

            .....
            #...#
            #...#
            ##.##
            ##.##
            ##.##
            #####

            .....
            .....
            ..#..
            ..#.#
            .##.#
            .##.#
            #####

            #####
            .####
            ..##.
            ...#.
            ...#.
            .....
            .....

            #####
            #.###
            #..##
            #..#.
            #....
            #....
            .....

            #####
            #####
            #####
            .####
            ..#.#
            ..#.#
            .....

            #####
            #####
            ####.
            ####.
            #.##.
            #.#..
            .....

            .....
            #.#.#
            #.#.#
            #.#.#
            ###.#
            ###.#
            #####

            .....
            .....
            ..#..
            ..##.
            #.###
            #.###
            #####

            #####
            #####
            #####
            .###.
            .#.#.
            .....
            .....

            .....
            .....
            .....
            #.#.#
            #.#.#
            #####
            #####

            #####
            ##.##
            #..##
            #..#.
            #..#.
            #..#.
            .....

            #####
            #####
            ###.#
            ###.#
            #.#.#
            #....
            .....

            #####
            .###.
            .##..
            ..#..
            ..#..
            ..#..
            .....

            .....
            ..#..
            ..#..
            ..##.
            .###.
            .####
            #####

            #####
            #####
            #####
            ##.#.
            ##...
            #....
            .....

            #####
            #####
            ##.#.
            ##.#.
            #..#.
            #....
            .....

            .....
            .....
            .....
            ..#..
            ..##.
            .####
            #####

            .....
            ...#.
            ...#.
            ...##
            ..###
            .####
            #####

            #####
            .####
            .####
            .#.##
            .#.#.
            .#...
            .....

            .....
            #...#
            #...#
            #..##
            ##.##
            ##.##
            #####

            #####
            ###.#
            ###.#
            ###.#
            #.#.#
            #....
            .....

            .....
            .....
            .....
            .#...
            ###.#
            ###.#
            #####

            .....
            .#...
            ###..
            ###.#
            ###.#
            ###.#
            #####

            #####
            ###.#
            ###.#
            #.#.#
            #...#
            ....#
            .....

            #####
            .##.#
            .##.#
            .##.#
            ..#..
            .....
            .....

            #####
            ###.#
            .##.#
            .##.#
            ..#.#
            ..#..
            .....

            #####
            #####
            .####
            .####
            .#.##
            ....#
            .....

            .....
            .....
            ..#..
            .##.#
            #####
            #####
            #####

            .....
            .....
            .....
            .#..#
            .#..#
            ##.##
            #####

            #####
            ###.#
            ##...
            ##...
            #....
            .....
            .....

            #####
            .###.
            .###.
            .#.#.
            .#...
            .....
            .....

            .....
            .....
            ..#..
            #.##.
            #.###
            #####
            #####

            .....
            .#...
            .#...
            .#...
            ##...
            ##.#.
            #####

            .....
            .....
            ..#..
            .##.#
            .##.#
            .####
            #####

            #####
            #.###
            #..##
            ....#
            ....#
            .....
            .....

            .....
            .....
            #....
            ##..#
            ###.#
            ###.#
            #####

            .....
            #....
            ##...
            ##.#.
            ##.#.
            #####
            #####

            .....
            ...#.
            ...#.
            ...#.
            .#.#.
            .###.
            #####

            #####
            #####
            #.###
            #.##.
            #.##.
            ..#..
            .....

            .....
            .....
            #....
            #....
            #.#..
            #.##.
            #####

            .....
            ..#..
            ..#..
            .##.#
            .##.#
            #####
            #####

            .....
            .....
            .....
            .....
            .#.#.
            ##.##
            #####

            .....
            #..#.
            #.##.
            #.##.
            ####.
            #####
            #####

            .....
            .#...
            .#...
            .##..
            .###.
            #####
            #####

            .....
            ..#..
            .##..
            ###..
            ###.#
            ###.#
            #####

            #####
            ##.#.
            #..#.
            #..#.
            #..#.
            ...#.
            .....

            #####
            ##.##
            ##.##
            #..#.
            #..#.
            .....
            .....

            .....
            .....
            #.#..
            #.#..
            ####.
            #####
            #####

            #####
            #####
            #####
            .##.#
            .#..#
            .....
            .....

            #####
            #####
            ####.
            #.##.
            ..#..
            .....
            .....

            #####
            ###.#
            ###.#
            .##..
            ..#..
            ..#..
            .....

            .....
            ..#.#
            ..#.#
            ..#.#
            ..###
            .####
            #####

            .....
            ..#.#
            .##.#
            .##.#
            ###.#
            ###.#
            #####

            #####
            #####
            .#.#.
            .#.#.
            .#.#.
            .#...
            .....

            .....
            ...#.
            #.##.
            ####.
            ####.
            ####.
            #####

            .....
            #.#..
            #.##.
            #.##.
            #.###
            #####
            #####

            #####
            #####
            #.#.#
            #.#..
            #.#..
            .....
            .....

            .....
            #....
            ##...
            ##.#.
            #####
            #####
            #####

            #####
            .#.##
            .#.##
            .#..#
            .#..#
            .....
            .....

            .....
            .....
            ...#.
            #.##.
            #.##.
            ####.
            #####

            .....
            ..#..
            #.#..
            ###..
            ###.#
            ###.#
            #####

            #####
            ###.#
            .##.#
            .##.#
            .##..
            .#...
            .....

            .....
            .....
            #...#
            #..##
            ##.##
            #####
            #####

            #####
            #####
            #.###
            #..##
            #..#.
            ...#.
            .....

            .....
            .#...
            .#..#
            .#..#
            .##.#
            .####
            #####

            #####
            #####
            ##.##
            .#.#.
            .#...
            .#...
            .....

            .....
            ..#..
            ..#..
            .##..
            .##..
            .##.#
            #####

            .....
            .....
            .....
            .#..#
            .##.#
            .##.#
            #####

            #####
            #.###
            #.###
            #..##
            #..##
            #..#.
            .....

            .....
            ..#..
            .##.#
            .##.#
            .##.#
            ###.#
            #####

            .....
            #....
            #..#.
            #..#.
            #..#.
            #.##.
            #####

            #####
            ####.
            ####.
            ##.#.
            #..#.
            .....
            .....

            .....
            .....
            .#...
            .##.#
            .####
            .####
            #####

            #####
            #####
            .#.##
            .#.##
            ....#
            ....#
            .....

            #####
            .####
            .###.
            .#.#.
            .#...
            .#...
            .....

            #####
            #####
            ##.##
            #...#
            .....
            .....
            .....

            #####
            ##.##
            .#.##
            .#.##
            .#.##
            .#.#.
            .....

            .....
            .....
            ....#
            ....#
            #..##
            ##.##
            #####

            .....
            .....
            .....
            ...#.
            .#.#.
            .####
            #####

            #####
            .##.#
            .#..#
            ....#
            ....#
            ....#
            .....

            .....
            .....
            .#...
            ##.#.
            ##.#.
            ##.#.
            #####

            #####
            #####
            .###.
            .##..
            .#...
            .#...
            .....

            .....
            #..#.
            #.###
            #.###
            #.###
            #.###
            #####

            .....
            #....
            #....
            #.#.#
            #.#.#
            #.#.#
            #####

            #####
            #.###
            #..#.
            #..#.
            #..#.
            #....
            .....

            .....
            ...#.
            ...#.
            .#.#.
            .###.
            .###.
            #####

            .....
            #.#..
            #.#..
            #.##.
            #.##.
            ####.
            #####

            .....
            ..#..
            ..#..
            ..#..
            .##.#
            .####
            #####

            #####
            #####
            ##.##
            .#..#
            .#..#
            .....
            .....

            .....
            ..#..
            .##..
            .##..
            .##.#
            .##.#
            #####

            .....
            .....
            .....
            #....
            ##.#.
            ##.##
            #####

            .....
            .....
            .#.#.
            .#.#.
            .#.#.
            .#.##
            #####

            #####
            #.#.#
            #....
            #....
            #....
            #....
            .....

            .....
            ....#
            #..##
            #..##
            ##.##
            ##.##
            #####

            #####
            ##.##
            ##.##
            ##..#
            .#..#
            ....#
            .....

            #####
            ##.##
            ##.##
            .#.##
            .#.#.
            .#...
            .....

            #####
            #.###
            ..#.#
            ..#.#
            ..#..
            ..#..
            .....

            .....
            ..#..
            ..##.
            ..##.
            #.##.
            #####
            #####

            .....
            .....
            .....
            ...#.
            #..#.
            ##.##
            #####

            .....
            .....
            ..#..
            ..#.#
            ..###
            #.###
            #####

            #####
            #.##.
            #.##.
            #.##.
            #..#.
            .....
            .....

            .....
            .....
            ..#.#
            #.#.#
            #.#.#
            #.###
            #####

            .....
            .#..#
            .#.##
            .#.##
            .#.##
            ##.##
            #####

            .....
            ....#
            #...#
            #...#
            #..##
            ##.##
            #####

            .....
            ..#..
            .##..
            .##.#
            .##.#
            .##.#
            #####

            .....
            ....#
            ....#
            .#..#
            .#..#
            .##.#
            #####

            .....
            #...#
            #.#.#
            #.#.#
            #####
            #####
            #####

            .....
            .....
            .#..#
            .##.#
            .##.#
            .##.#
            #####

            #####
            #####
            ##.#.
            ##...
            .#...
            .....
            .....

            #####
            ##.#.
            #....
            #....
            #....
            .....
            .....

            #####
            #.###
            #.###
            ..###
            ...##
            ....#
            .....

            .....
            .....
            #.#..
            #.##.
            ####.
            #####
            #####

            .....
            .....
            ..#..
            #.#..
            #.#.#
            #.###
            #####

            #####
            #####
            .###.
            .###.
            ..#..
            .....
            .....

            #####
            ###.#
            ###.#
            ##...
            #....
            #....
            .....

            .....
            .#.#.
            .#.#.
            .####
            .####
            #####
            #####

            #####
            .##.#
            .##.#
            .##.#
            .#..#
            ....#
            .....

            #####
            #####
            .###.
            .###.
            .#.#.
            .#...
            .....

            #####
            #####
            #####
            ##.##
            .#.##
            .#..#
            .....

            .....
            ...#.
            ..##.
            .###.
            .####
            .####
            #####

            .....
            .#..#
            .#..#
            ##.##
            #####
            #####
            #####

            .....
            ..#..
            ..##.
            .###.
            #####
            #####
            #####

            #####
            ###.#
            ###.#
            #.#.#
            #.#.#
            #...#
            .....

            #####
            ###.#
            ###..
            ###..
            ###..
            .#...
            .....

            .....
            #....
            #....
            ##.#.
            ##.##
            ##.##
            #####

            #####
            #.###
            #..##
            #..##
            #...#
            ....#
            .....

            #####
            #####
            #####
            #.##.
            ...#.
            ...#.
            .....

            #####
            ##.##
            ##.##
            ##.##
            #..#.
            #..#.
            .....

            #####
            #####
            #####
            ##.##
            .#..#
            .#..#
            .....

            #####
            ###.#
            .##.#
            .##.#
            .##.#
            ..#.#
            .....

            #####
            .##.#
            .##.#
            .#...
            .#...
            .....
            .....

            .....
            .....
            #....
            #...#
            ##..#
            ##.##
            #####

            .....
            ..#..
            .###.
            .####
            #####
            #####
            #####

            .....
            #....
            #..#.
            #..#.
            #.##.
            #####
            #####

            .....
            #.#..
            #.##.
            #.###
            #####
            #####
            #####

            .....
            ..#..
            ..#..
            ..#.#
            #.#.#
            #.#.#
            #####

            #####
            #.###
            #.###
            #.##.
            #.##.
            ..#..
            .....

            #####
            #####
            ####.
            ####.
            .###.
            ..#..
            .....

            #####
            #####
            ##.##
            .#..#
            .#...
            .....
            .....

            .....
            .....
            .#...
            ##.#.
            ####.
            ####.
            #####

            #####
            #####
            .#.##
            .#..#
            .....
            .....
            .....

            .....
            ...#.
            ..##.
            #.##.
            ####.
            ####.
            #####

            #####
            #####
            .##.#
            .##.#
            .#..#
            .....
            .....

            #####
            #####
            .####
            .##.#
            .##..
            ..#..
            .....

            #####
            #####
            .#.##
            .#.##
            .#.#.
            .#...
            .....

            #####
            #####
            ####.
            .#.#.
            .#...
            .....
            .....

            #####
            .#.##
            .#..#
            .#..#
            .#...
            .....
            .....

            #####
            ##.##
            ##.##
            #..#.
            .....
            .....
            .....

            #####
            ##.##
            ##.##
            ##..#
            #...#
            #...#
            .....

            .....
            .....
            #...#
            #.#.#
            #.#.#
            #.###
            #####

            .....
            .#..#
            .#..#
            ###.#
            #####
            #####
            #####

            .....
            .....
            ...#.
            ...#.
            ..##.
            .###.
            #####

            .....
            .#...
            .#...
            .#...
            .##..
            .##.#
            #####

            .....
            .#...
            .##..
            ###..
            ####.
            #####
            #####

            #####
            #####
            .#.#.
            .#.#.
            .....
            .....
            .....

            .....
            .#.#.
            .###.
            .####
            .####
            .####
            #####

            .....
            .....
            ..#..
            ..##.
            #.###
            #####
            #####

            .....
            #....
            ##..#
            ##..#
            ###.#
            #####
            #####

            #####
            #.###
            ..###
            ...#.
            ...#.
            ...#.
            .....

            #####
            .####
            .####
            .#.##
            ....#
            ....#
            .....

            .....
            #..#.
            ##.#.
            ##.##
            ##.##
            ##.##
            #####

            #####
            #####
            .##.#
            .##.#
            .##.#
            .#..#
            .....

            #####
            ##.#.
            ##.#.
            ##.#.
            .#.#.
            .#.#.
            .....

            .....
            #....
            #...#
            #.#.#
            ###.#
            #####
            #####

            #####
            #####
            ###.#
            ###.#
            .##.#
            ..#..
            .....

            #####
            ###.#
            #.#.#
            ..#.#
            ..#.#
            ....#
            .....

            #####
            ###.#
            #.#.#
            #.#.#
            ..#..
            .....
            .....

            .....
            ....#
            #...#
            #.#.#
            #.#.#
            #.###
            #####

            #####
            #####
            ###.#
            ###.#
            ##..#
            #....
            .....

            #####
            #.###
            #.###
            #..#.
            ...#.
            .....
            .....

            .....
            .....
            .....
            ....#
            .#..#
            .#.##
            #####

            .....
            .....
            ...#.
            ...#.
            .#.#.
            ##.#.
            #####

            .....
            #....
            #....
            #..#.
            #..##
            ##.##
            #####

            #####
            ####.
            ##.#.
            ##...
            #....
            #....
            .....

            #####
            #####
            .####
            ..##.
            ...#.
            ...#.
            .....

            #####
            #####
            #####
            #.###
            #.##.
            ...#.
            .....

            .....
            .....
            #..#.
            #..#.
            #..#.
            #.###
            #####

            .....
            #.#..
            #.#.#
            #.#.#
            #.#.#
            #.###
            #####

            #####
            ###.#
            .##..
            ..#..
            ..#..
            .....
            .....

            #####
            ####.
            .###.
            .###.
            .##..
            .#...
            .....

            .....
            .#...
            .#...
            .#...
            .#..#
            ###.#
            #####

            #####
            ####.
            ####.
            ##.#.
            .#.#.
            .....
            .....

            #####
            .####
            .####
            .##.#
            .#..#
            ....#
            .....

            #####
            #####
            #####
            #####
            .#.#.
            .#.#.
            .....

            .....
            .#...
            ##..#
            ##..#
            ###.#
            ###.#
            #####

            #####
            #####
            #####
            ###.#
            .#..#
            .....
            .....

            .....
            #....
            #....
            #...#
            #...#
            ##.##
            #####

            .....
            .....
            .....
            .#...
            .##..
            .##.#
            #####

            #####
            #.###
            #.###
            #.###
            #..#.
            ...#.
            .....

            .....
            #...#
            #..##
            #.###
            #####
            #####
            #####

            #####
            .#.##
            .#.#.
            ...#.
            ...#.
            .....
            .....

            .....
            .....
            .....
            .#...
            .#.#.
            ##.##
            #####

            .....
            .....
            ...#.
            ..##.
            #.###
            #####
            #####

            #####
            ###.#
            ###.#
            ##..#
            ##...
            .#...
            .....

            #####
            #.###
            #..##
            #..#.
            #..#.
            ...#.
            .....

            .....
            .....
            .#...
            .#...
            .#..#
            ###.#
            #####

            .....
            .....
            #....
            ##.#.
            ##.#.
            ##.#.
            #####

            #####
            #.###
            #.###
            #.###
            #.#.#
            #.#.#
            .....

            .....
            ....#
            ....#
            .#.##
            ##.##
            ##.##
            #####

            #####
            .#.##
            .#.##
            .#..#
            .#...
            .....
            .....

            .....
            .#..#
            .##.#
            .##.#
            .##.#
            .##.#
            #####

            .....
            ....#
            ..#.#
            ..#.#
            ..#.#
            #.#.#
            #####

            #####
            #####
            ##.##
            ##.#.
            #..#.
            #....
            .....

            .....
            ....#
            ....#
            .#..#
            .##.#
            #####
            #####

            .....
            ..#..
            ..#..
            ..##.
            ..###
            #.###
            #####

            .....
            #....
            ##...
            ##...
            ##..#
            ##.##
            #####

            .....
            ...#.
            ...#.
            ...##
            ...##
            #.###
            #####

            .....
            .....
            ..#..
            ..#.#
            .##.#
            .####
            #####

            .....
            .#..#
            .##.#
            .##.#
            .##.#
            .####
            #####

            .....
            #....
            ##...
            ###..
            ###..
            ####.
            #####

            .....
            ..#..
            ..#..
            ..#.#
            #.#.#
            #####
            #####

            #####
            #####
            #.###
            #.###
            #.###
            ...#.
            .....

            .....
            #....
            #.#..
            ###..
            ###.#
            ###.#
            #####

            #####
            #.##.
            ..##.
            ..##.
            ...#.
            ...#.
            .....

            #####
            #####
            #####
            ##.##
            ##..#
            #...#
            .....

            .....
            ..#.#
            .####
            .####
            .####
            .####
            #####

            .....
            #....
            #...#
            #.#.#
            #.###
            #####
            #####

            .....
            .....
            .#..#
            .#..#
            ##.##
            #####
            #####

            #####
            #####
            #.#.#
            #.#.#
            #....
            #....
            .....

            .....
            .....
            .....
            .#...
            .#..#
            ###.#
            #####

            .....
            .....
            .....
            #..#.
            #.###
            #####
            #####

            #####
            .####
            .##.#
            .##.#
            ..#.#
            ..#.#
            .....

            .....
            .....
            ..#.#
            ..###
            #.###
            #.###
            #####

            .....
            ...#.
            ..##.
            ..###
            .####
            #####
            #####

            .....
            ...#.
            ...#.
            ..###
            ..###
            .####
            #####

            #####
            #####
            ##.#.
            ##.#.
            .#...
            .....
            .....

            .....
            .....
            ...#.
            ...#.
            #.##.
            #####
            #####

            .....
            #....
            #...#
            #.#.#
            #.#.#
            #.###
            #####

            .....
            .#..#
            .#..#
            .#..#
            ##.##
            #####
            #####

            #####
            .####
            .####
            .####
            .###.
            ..#..
            .....

            #####
            .####
            .#.##
            .#.##
            .#..#
            .#..#
            .....

            #####
            ##.##
            #..##
            #...#
            #...#
            #...#
            .....

            #####
            ####.
            ####.
            ####.
            #.##.
            #..#.
            .....

            .....
            ..#..
            ..#..
            ..#..
            .###.
            .####
            #####

            .....
            .#...
            .#...
            .#.#.
            ##.#.
            ##.##
            #####

            #####
            #####
            .####
            .###.
            ..#..
            ..#..
            .....

            .....
            #....
            #.#..
            ###..
            ####.
            #####
            #####

            .....
            ..#.#
            .##.#
            .##.#
            .##.#
            #####
            #####

            .....
            .....
            ..#..
            #.#..
            #.#..
            ####.
            #####

            .....
            .....
            .#.#.
            ####.
            ####.
            ####.
            #####

            .....
            .#..#
            .#..#
            .#..#
            .#..#
            .##.#
            #####

            #####
            ###.#
            ###.#
            ##..#
            .#...
            .....
            .....

            .....
            ....#
            ..#.#
            ..#.#
            .####
            .####
            #####

            .....
            ...#.
            .#.#.
            .#.#.
            ##.#.
            ####.
            #####

            #####
            #####
            #.##.
            #..#.
            #....
            #....
            .....

            .....
            ..#..
            ..#.#
            ..#.#
            ..#.#
            #.###
            #####

            .....
            ...#.
            ...#.
            .#.#.
            .###.
            #####
            #####

            #####
            #####
            #####
            #.#.#
            #....
            #....
            .....

            .....
            .....
            .....
            #..#.
            #.##.
            #####
            #####

            #####
            ##.##
            ##..#
            ##..#
            ##...
            .#...
            .....

            .....
            ...#.
            .#.#.
            .#.##
            .#.##
            #####
            #####

            #####
            #####
            #####
            #.##.
            #..#.
            ...#.
            .....

            .....
            .#...
            .#.#.
            ##.#.
            ##.#.
            #####
            #####

            #####
            ##.##
            #..#.
            #..#.
            ...#.
            ...#.
            .....

            .....
            ..#..
            ..#.#
            #.#.#
            #.#.#
            #.###
            #####

            #####
            ##.##
            .#..#
            ....#
            ....#
            ....#
            .....

            #####
            #####
            .#.##
            ...##
            ...#.
            ...#.
            .....

            #####
            ####.
            #.##.
            #.##.
            ..#..
            ..#..
            .....

            #####
            ###.#
            ###.#
            ###.#
            #.#.#
            #.#.#
            .....

            .....
            #....
            #....
            #.#..
            #.#.#
            #.#.#
            #####

            .....
            .....
            .#...
            ##..#
            ###.#
            #####
            #####

            #####
            ####.
            ####.
            ##.#.
            ##.#.
            .#.#.
            .....

            #####
            ##.##
            ##.##
            .#.##
            ...#.
            .....
            .....

            #####
            ##.##
            ##.#.
            ##.#.
            ##...
            .#...
            .....

            #####
            .##.#
            ..#..
            ..#..
            ..#..
            ..#..
            .....

            #####
            .####
            .##.#
            .##.#
            .##.#
            .#...
            .....

            #####
            ###.#
            ###.#
            #.#.#
            #.#.#
            #.#..
            .....

            .....
            #....
            #....
            #..#.
            #.##.
            #.##.
            #####

            #####
            ##.##
            ##.##
            #..##
            #..#.
            .....
            .....

            .....
            .....
            ...#.
            ..###
            .####
            #####
            #####

            .....
            .....
            .....
            .#...
            .#...
            ###.#
            #####

            #####
            #.###
            #.###
            #.##.
            #..#.
            #....
            .....

            #####
            ###.#
            ###.#
            ###..
            .#...
            .....
            .....

            #####
            #####
            #.#.#
            #.#.#
            ..#.#
            ..#..
            .....

            #####
            ####.
            #.##.
            #.##.
            ..#..
            .....
            .....

            .....
            ...#.
            ...#.
            #..#.
            #..##
            #.###
            #####

            .....
            ...#.
            ..##.
            ..##.
            .####
            .####
            #####

            #####
            ####.
            ###..
            #.#..
            ..#..
            ..#..
            .....

            .....
            .....
            .....
            ...#.
            #.###
            #.###
            #####

            .....
            ..#..
            ..#..
            ..#.#
            .##.#
            #####
            #####

            #####
            #.##.
            #..#.
            #..#.
            #..#.
            #....
            .....

            .....
            #....
            #....
            #.#..
            ####.
            #####
            #####

            #####
            ##.#.
            ##.#.
            .#.#.
            .#.#.
            .....
            .....

            .....
            #....
            #.#..
            #.#..
            #.#.#
            #.###
            #####

            #####
            #####
            ##.##
            ##.#.
            #..#.
            ...#.
            .....

            #####
            ##.##
            #...#
            #...#
            #....
            .....
            .....

            .....
            .....
            .#...
            ##...
            ###.#
            ###.#
            #####

            .....
            #.#..
            #.##.
            ####.
            ####.
            ####.
            #####

            #####
            ###.#
            ##..#
            ##...
            #....
            #....
            .....

            #####
            #####
            ##.##
            .#.##
            .#..#
            ....#
            .....

            #####
            .###.
            .###.
            ..#..
            .....
            .....
            .....

            .....
            .....
            .....
            ...#.
            #..##
            #.###
            #####

            .....
            ..#..
            ..#..
            .###.
            #####
            #####
            #####

            .....
            .....
            ..#..
            #.#.#
            #.###
            #####
            #####

            #####
            .####
            .#.#.
            .#.#.
            .#.#.
            .#...
            .....

            .....
            #....
            #....
            ##.#.
            ##.#.
            ##.##
            #####

            #####
            #####
            #.###
            #..##
            #...#
            .....
            .....

            #####
            ##.##
            #..##
            #..#.
            #..#.
            ...#.
            .....

            .....
            .#...
            .#..#
            .#..#
            .##.#
            #####
            #####

            #####
            ####.
            .##..
            .#...
            .....
            .....
            .....

            #####
            #####
            #.###
            #.#.#
            ....#
            ....#
            .....

            .....
            .....
            .....
            .....
            #.#..
            #.##.
            #####

            .....
            .#...
            .#...
            .##.#
            .##.#
            ###.#
            #####

            .....
            #....
            #....
            ##...
            ##..#
            ##.##
            #####

            #####
            #####
            ##.##
            #..#.
            .....
            .....
            .....

            .....
            #....
            #.#..
            #.#..
            #.##.
            #.###
            #####

            .....
            ..#..
            ..#..
            ..#..
            #.#..
            #.##.
            #####

            .....
            .....
            ....#
            #..##
            #.###
            #.###
            #####

            .....
            ..#..
            #.#..
            #.#..
            ###..
            ####.
            #####

            #####
            #####
            ####.
            .#.#.
            .#.#.
            .#.#.
            .....

            .....
            #.#..
            #.#.#
            #.#.#
            ###.#
            #####
            #####

            .....
            ..#..
            #.#..
            #.#..
            #.#.#
            #.#.#
            #####

            #####
            #####
            .###.
            .#.#.
            .#.#.
            .#...
            .....

            #####
            ###.#
            ###.#
            .##.#
            .##..
            .#...
            .....

            #####
            #####
            #.###
            ...#.
            ...#.
            .....
            .....

            .....
            .....
            #.#..
            #.#..
            #.##.
            #.##.
            #####

            #####
            #.###
            #.###
            ..#.#
            ..#.#
            .....
            .....

            #####
            ##.##
            #..#.
            #..#.
            #..#.
            ...#.
            .....

            .....
            ..#..
            ..#..
            ..#.#
            ..###
            .####
            #####

            .....
            ..#..
            ..#..
            .##..
            .##.#
            #####
            #####

            .....
            #....
            #....
            ##.#.
            ####.
            ####.
            #####

            #####
            ##.##
            #...#
            .....
            .....
            .....
            .....

            .....
            .#...
            .#..#
            .##.#
            .##.#
            .####
            #####

            .....
            #....
            #..#.
            #..#.
            ##.#.
            ##.##
            #####

            #####
            #.##.
            #..#.
            #..#.
            #..#.
            .....
            .....

            #####
            #####
            #####
            ###.#
            .#...
            .....
            .....

            #####
            ####.
            ####.
            .###.
            .###.
            ..#..
            .....

            .....
            ...#.
            .#.#.
            .#.#.
            #####
            #####
            #####

            #####
            #.###
            #.#.#
            #.#.#
            #.#.#
            #.#..
            .....

            #####
            #####
            ###.#
            ###.#
            .#..#
            ....#
            .....

            .....
            ....#
            ....#
            ..#.#
            .####
            #####
            #####

            .....
            .#...
            .#...
            .##.#
            .##.#
            #####
            #####

            .....
            .....
            #.#..
            #.#..
            ###..
            ####.
            #####

            #####
            #.###
            #.##.
            #.##.
            #.##.
            #..#.
            .....

            #####
            #####
            ##.##
            .#..#
            .#...
            .#...
            .....

            .....
            ...#.
            ...#.
            ...##
            #.###
            #.###
            #####

            #####
            ##.##
            ##.##
            ##.#.
            ##.#.
            #..#.
            .....

            .....
            ....#
            ....#
            #.#.#
            ###.#
            #####
            #####

            .....
            .....
            #.#.#
            #.#.#
            #.#.#
            #.###
            #####

            .....
            ....#
            ....#
            .#..#
            ##.##
            ##.##
            #####

            .....
            #....
            #.#.#
            #.#.#
            #####
            #####
            #####

            .....
            ..#.#
            ..#.#
            #.#.#
            #.#.#
            #.#.#
            #####

            .....
            .....
            .....
            #.#..
            #.##.
            #.##.
            #####

            .....
            #..#.
            #..#.
            #.###
            #.###
            #.###
            #####

            #####
            .###.
            .#.#.
            .#.#.
            ...#.
            .....
            .....

            #####
            ##.##
            #..##
            #..##
            #..##
            #..#.
            .....

            #####
            .####
            .####
            ..#.#
            ..#.#
            .....
            .....

            .....
            .....
            ...#.
            #..#.
            #..##
            #.###
            #####

            #####
            ###.#
            ##..#
            #....
            #....
            #....
            .....

            #####
            #####
            #####
            #####
            #.#.#
            ..#.#
            .....

            .....
            .....
            .#.#.
            ##.#.
            #####
            #####
            #####

            #####
            .###.
            .###.
            ..#..
            ..#..
            ..#..
            .....

            .....
            .....
            #...#
            #...#
            ##.##
            ##.##
            #####

            #####
            #####
            .####
            ..#.#
            ....#
            ....#
            .....

            .....
            #....
            #...#
            #.#.#
            #.#.#
            #.#.#
            #####

            #####
            ##.##
            #...#
            #....
            #....
            .....
            .....

            .....
            .#...
            .#...
            .#...
            .#.#.
            ##.#.
            #####

            #####
            ##.##
            .#.##
            .#.##
            ....#
            .....
            .....

            .....
            #....
            #..#.
            #..#.
            ##.##
            #####
            #####

            #####
            .####
            .#.##
            ...#.
            ...#.
            ...#.
            .....

            #####
            ###.#
            ###.#
            ###.#
            ###..
            .#...
            .....

            .....
            .....
            ..#..
            ..#.#
            ..###
            .####
            #####

            .....
            .....
            ....#
            ....#
            #...#
            ##.##
            #####

            #####
            ##.##
            ##.##
            ##.#.
            ##.#.
            #....
            .....

            #####
            #####
            ###.#
            ###..
            ##...
            #....
            .....

            .....
            ...#.
            ...#.
            ...#.
            ..###
            #.###
            #####

            .....
            .#...
            ##.#.
            ##.##
            ##.##
            ##.##
            #####

            #####
            .#.##
            .#..#
            .#...
            .#...
            .....
            .....

            #####
            #.#.#
            #...#
            #....
            #....
            .....
            .....

            #####
            .####
            .##.#
            .#..#
            .#..#
            ....#
            .....

            .....
            ..#..
            .##..
            .###.
            .###.
            .####
            #####

            #####
            ####.
            .###.
            .###.
            .###.
            ..#..
            .....

            .....
            ...#.
            #..#.
            #..##
            ##.##
            #####
            #####

            #####
            #####
            #.###
            ..#.#
            ..#.#
            ..#..
            .....

            .....
            ....#
            .#..#
            .#..#
            .#..#
            .#.##
            #####

            .....
            .....
            .#...
            .#..#
            ###.#
            #####
            #####

            .....
            ...#.
            #..#.
            #..#.
            #..#.
            ##.##
            #####

            .....
            .#...
            .##..
            .##.#
            .####
            #####
            #####

            .....
            .....
            .....
            .#..#
            .#.##
            #####
            #####

            .....
            ...#.
            ...#.
            ...#.
            ...##
            .#.##
            #####

            #####
            .####
            .###.
            .#.#.
            .#.#.
            .#.#.
            .....

            .....
            #....
            #..#.
            #.##.
            ####.
            ####.
            #####

            #####
            .####
            .###.
            .###.
            ..#..
            ..#..
            .....

            .....
            .....
            .#...
            ##...
            ###..
            ####.
            #####

            #####
            ##.##
            ##.##
            ##.#.
            .#.#.
            .#...
            .....

            #####
            ###.#
            ##..#
            .#..#
            ....#
            .....
            .....

            #####
            .###.
            .##..
            .##..
            .##..
            .#...
            .....

            #####
            ####.
            ####.
            .#.#.
            .#.#.
            .....
            .....

            #####
            #####
            #####
            #.###
            #..#.
            #..#.
            .....

            .....
            .#...
            .#...
            .##..
            .##.#
            ###.#
            #####

            .....
            .....
            ....#
            #.#.#
            #.###
            #.###
            #####

            #####
            ####.
            ###..
            .##..
            ..#..
            ..#..
            .....

            #####
            #####
            .#.##
            ...##
            ....#
            .....
            .....

            #####
            ####.
            #.##.
            #..#.
            #..#.
            #..#.
            .....

            .....
            .#...
            .#...
            .#.#.
            .####
            #####
            #####

            #####
            #####
            ###.#
            .#..#
            ....#
            ....#
            .....

            #####
            #####
            ##.##
            ##.##
            #...#
            #....
            .....

            #####
            #####
            #####
            #####
            .#.##
            ....#
            .....

            #####
            #####
            .####
            .##.#
            ..#.#
            ..#.#
            .....

            .....
            ...#.
            ...#.
            #..#.
            ##.##
            ##.##
            #####

            .....
            .#...
            ##...
            ##...
            ###.#
            ###.#
            #####

            .....
            .#...
            .##..
            .##..
            .##..
            ####.
            #####

            #####
            ###.#
            #.#.#
            ....#
            ....#
            .....
            .....

            .....
            ...#.
            #..##
            #..##
            ##.##
            #####
            #####

            .....
            ..#..
            .###.
            ####.
            #####
            #####
            #####

            #####
            #.##.
            #.##.
            #..#.
            .....
            .....
            .....

            #####
            ##.##
            .#.##
            ...##
            ...##
            ....#
            .....

            .....
            .#...
            .#.#.
            .#.#.
            ##.##
            #####
            #####

            #####
            #####
            #####
            #.##.
            #.#..
            ..#..
            .....

            #####
            ###.#
            ###.#
            ##...
            #....
            .....
            .....

            #####
            #####
            #####
            #.##.
            ...#.
            .....
            .....

            .....
            ....#
            ....#
            #.#.#
            #.#.#
            #.#.#
            #####

            .....
            .#...
            .#.#.
            .#.#.
            ##.#.
            ##.##
            #####

            #####
            .##.#
            .#..#
            .#..#
            ....#
            ....#
            .....

            #####
            .###.
            .###.
            .#.#.
            .#.#.
            .#.#.
            .....

            #####
            #.#.#
            #.#.#
            #....
            #....
            .....
            .....

            #####
            ##.##
            #..##
            ...#.
            ...#.
            ...#.
            .....

            #####
            #####
            #.###
            ..###
            ..##.
            ...#.
            .....

            #####
            #.###
            #.###
            #.#.#
            ..#..
            ..#..
            .....

            #####
            .####
            .####
            ..##.
            ..##.
            ..#..
            .....

            #####
            .####
            .####
            .##.#
            ..#..
            ..#..
            .....

            #####
            #####
            ##.##
            ##.#.
            .#...
            .#...
            .....

            #####
            ##.##
            ##.##
            .#.#.
            .#.#.
            .#.#.
            .....

            .....
            .....
            .....
            .....
            #.#.#
            #.###
            #####

            #####
            .####
            .####
            ..#.#
            ..#..
            ..#..
            .....

            #####
            #.###
            ..###
            ..###
            ...##
            ...#.
            .....

            .....
            .....
            #....
            ##...
            ###.#
            ###.#
            #####

            .....
            .....
            .....
            .#.#.
            .#.##
            .####
            #####

            .....
            ..#..
            ..#.#
            ..#.#
            #.#.#
            #.###
            #####

            #####
            #####
            ##.##
            #..##
            #...#
            .....
            .....

            #####
            ##.##
            ##.##
            ##.#.
            .#...
            .....
            .....

            #####
            ####.
            ###..
            ###..
            ##...
            #....
            .....

            .....
            ....#
            #..##
            #..##
            #..##
            #.###
            #####

            #####
            ###.#
            #.#.#
            ..#.#
            .....
            .....
            .....

            #####
            ###.#
            ###.#
            ##..#
            #...#
            .....
            .....

            #####
            #####
            ##.##
            ##.##
            .#.##
            .#..#
            .....

            #####
            #####
            #.##.
            #.##.
            #.##.
            #.#..
            .....

            .....
            ..#..
            #.#..
            #.#..
            ###.#
            #####
            #####

            #####
            .#.#.
            .#.#.
            .#.#.
            .#.#.
            ...#.
            .....

            .....
            ..#.#
            ..#.#
            #.#.#
            #.###
            #####
            #####

            #####
            #####
            .###.
            ..##.
            ...#.
            ...#.
            .....

            .....
            ..#..
            .###.
            .###.
            #####
            #####
            #####

            .....
            .....
            ..#..
            .##..
            .###.
            .####
            #####

            #####
            ##.##
            ##.##
            #..##
            ...#.
            .....
            .....

            #####
            #####
            .##.#
            .##..
            ..#..
            .....
            .....

            #####
            #####
            #.###
            #.###
            ..###
            ..#.#
            .....

            .....
            ..#.#
            .##.#
            .##.#
            .##.#
            ###.#
            #####

            #####
            ##.##
            ##..#
            .#..#
            .#..#
            .....
            .....

            #####
            ####.
            ####.
            #.##.
            #..#.
            #....
            .....

            #####
            #####
            ###.#
            #.#.#
            #.#.#
            ..#.#
            .....

            #####
            .####
            ..###
            ..###
            ...##
            ....#
            .....

            #####
            .####
            .####
            ..###
            ..##.
            ..#..
            .....

            #####
            #####
            .####
            .####
            ..##.
            ..#..
            .....

            #####
            #####
            ###.#
            ###.#
            ##..#
            .#...
            .....

            .....
            #...#
            #..##
            ##.##
            #####
            #####
            #####

            #####
            #####
            #####
            ###.#
            ###..
            .#...
            .....

            #####
            ###.#
            ###.#
            ###..
            ###..
            #.#..
            .....

            #####
            ###.#
            #.#.#
            ....#
            ....#
            ....#
            .....
    """.trimIndent()
    )
    check(2618, result)
}

private fun test(input: String): Int {
    val locks = input.split("\n\n").map { it.split("\n") }
    var pinHeights = mutableListOf<MutableList<Int>>()
    var heights = mutableListOf<MutableList<Int>>()
    for (lock in locks) {
        if (lock[0][0] == '#') {
            val lockPinHeights = mutableListOf<Int>()
            for (y in 0..4) {
                var pinHeight = 0
                for (x in 1..5) {
                    if (lock[x][y] == '#') {
                        ++pinHeight
                    }
                }
                lockPinHeights += pinHeight
            }
            pinHeights += lockPinHeights
        } else {
            val lockHeights = mutableListOf<Int>()
            for (y in 0..4) {
                var height = 0
                for (x in 1..5) {
                    if (lock[x][y] == '#') {
                        ++height
                    }
                }
                lockHeights += height
            }
            heights += lockHeights
        }
    }
    var count = 0
    for (lockPinHeights in pinHeights) {
        for (lockHeights in heights) {
            var match = true
            for (i in 0..4) {
                match = match && lockHeights[i] + lockPinHeights[i] <= 5
            }
            if (match) ++count
        }
    }
    return count
}
