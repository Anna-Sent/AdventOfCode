package advent2023

private var result = 0L

fun main() {
    result = test(
        """
            19, 13, 30 @ -2,  1, -2
            18, 19, 22 @ -1, -1, -2
            20, 25, 34 @ -2, -2, -4
            12, 31, 28 @ -1, -2, -1
            20, 19, 15 @  1, -5, -3
    """.trimIndent()
    )
    check(47, result, false)

    result = test(
        """
            181562673221791, 338272173381384, 367757712264029 @ 54, -10, -10
            206315329209944, 245384073975106, 327941392745372 @ 55, 100, 14
            197625997051112, 364791147875511, 421084289548856 @ 13, -27, -52
            335607631675402, 372977327877226, 443503801516025 @ -91, -180, -307
            376965726440887, 243145753709446, 134693184039803 @ -60, -103, 438
            275283382407707, 271946025294316, 261942712309417 @ -31, 55, 99
            184473941815821, 260190025352516, 334809258307979 @ 46, 90, 35
            248747432562397, 292825978198210, 296262988127717 @ 33, 9, 27
            233282077872895, 269698571568655, 349260681338282 @ -12, 77, 14
            289832617329133, 247310128837201, 364857887373709 @ -78, 103, -15
            176510447686183, 285361628169508, 268796009216369 @ 92, 45, 101
            173077274557783, 342809180288503, 381193797311774 @ 12, 17, 22
            338197337823745, 208688417067388, 262562967802577 @ -19, 136, -59
            124016688125887, 256968737904589, 372750640778267 @ 68, 105, 27
            325149428756895, 361379049392837, 209001310210807 @ -76, -145, 163
            253976258556295, 193124198162056, 312138083232833 @ 70, 178, -44
            378596236273183, 231895538890288, 254905382141909 @ -48, -62, -373
            224973520218728, 220472972985443, 228282364691207 @ 67, 131, 143
            346972455220783, 376128181087648, 219089567689529 @ -128, -142, 153
            194891381248987, 341939810732800, 298055964752030 @ 136, -82, 16
            268631000175487, 260391421511819, 271165340356205 @ 36, 47, 41
            390961594308071, 175701973054280, 191639068825713 @ -95, 398, -6
            239282117255637, 302971698559003, 273253909331433 @ 130, -59, 13
            375169157673286, 440906377097719, 455688520466693 @ -171, -305, -319
            389354581104375, 259046365255576, 261631061379501 @ -80, -422, -692
            363909741820838, 143727477234489, 196962106286293 @ 157, 693, -47
            134058908931127, 109573327969703, 122711220866454 @ 300, 341, 330
            345378216612978, 230029990821320, 233232686321991 @ 17, 38, -33
            346278365905713, 268060717608134, 148345178285689 @ -98, 12, 285
            301993883158924, 202646196395387, 422059457827578 @ -21, 159, -272
            302900291580407, 113811588900180, 360050527110785 @ -52, 314, -91
            314215338670581, 442661597371898, 286777787001103 @ -115, -139, 94
            73485654784612, 227444244495455, 142532185860807 @ 135, 135, 271
            191716102992463, 316513954730740, 207404598033569 @ 82, -5, 185
            353480547346623, 229708640151188, 184123612031809 @ 34, 9, 153
            287651081353953, 260151513044618, 339842520020129 @ -115, 107, 77
            384859152975880, 219516961898458, 169601357797985 @ 51, -124, 197
            289181142397513, 358109881230418, 239297076804479 @ -75, -45, 148
            246011259732974, 180495865234476, 222295339641605 @ 145, 210, 113
            362933947846827, 224445185589322, 215528822021969 @ -26, 43, 5
            334864957684888, 258063592787374, 236116581601097 @ -13, -16, 29
            335128154699797, 193103990705438, 406941878080253 @ -114, 176, -151
            212650469710183, 173522809994728, 154756338204449 @ 56, 204, 262
            261155597759258, 365250285781953, 339523838631449 @ 149, -271, -211
            188487353621487, 424903026405464, 89908157766377 @ 103, -180, 362
            378853791124582, 292485330206872, 214681378464893 @ -171, -42, 137
            79393850811029, 66353436972592, 257807145798867 @ 95, 298, 154
            323162994624628, 169156971144598, 257265211113059 @ 113, 292, -137
            393490001855158, 258916912837279, 212763818527253 @ -103, -517, -287
            361156978649963, 215281182789768, 234252868642873 @ -13, 86, -93
            250930306653319, 442285474209160, 356991679892369 @ -55, -108, 30
            88004022065719, 136973968591396, 264540373062065 @ 184, 247, 117
            139077199481279, 356838817208182, 339399214073987 @ 80, -17, 44
            366640498293653, 221423485959773, 189593402985354 @ 178, -73, -6
            156654429837175, 101556474710683, 130551672108656 @ 140, 311, 298
            138318009435529, 307691006876284, 263548888956727 @ 81, 40, 132
            378038785142823, 285671133485900, 216282012604045 @ 92, -883, -362
            334035885160323, 252690527170293, 271456260979054 @ -32, 17, -48
            382557369761690, 282195328751976, 551282074313802 @ -169, -58, -794
            398273440484414, 201600550955163, 207827305534891 @ -139, 131, -357
            304516112424581, 394419094999880, 170048858432959 @ -97, -90, 240
            259085529690193, 305070703342915, 351713138988821 @ -18, 13, -23
            369242901604373, 159257820378672, 233649329129337 @ -13, 410, -167
            117204084588568, 255618305428272, 486710786403131 @ 57, 110, -73
            336323444417107, 515990495084812, 384349605461733 @ -159, -155, 24
            277141878029502, 269529496734636, 199322609696582 @ 199, -70, 134
            37278090617617, 400751841530176, 53109952757069 @ 129, -30, 355
            390656376510277, 226936458359803, 179409553991787 @ -42, -209, 67
            313924500640943, 344700606232488, 186680344644369 @ 73, -318, 177
            244177571012887, 54844281180643, 263442967729094 @ 44, 411, 80
            337738511704075, 247897587947056, 296408930569673 @ -61, 44, -81
            358491244805179, 262611133333524, 379487313971339 @ -144, 50, -145
            209668825493704, 224943482402203, 196118461963568 @ -39, 141, 216
            473597262632155, 519964022034006, 413095048545753 @ -330, -307, -119
            263618584034062, 173766584423278, 222150504812279 @ 49, 216, 135
            392315256982015, 240757814243320, 217405344790193 @ -175, -16, 21
            232908143971513, 337546851929608, 364413849397124 @ 10, -26, -30
            525394990446403, 486670295779072, 549078392958317 @ -398, -238, -293
            234382681247081, 328299708132154, 327808628474887 @ 13, -17, 16
            146252896929473, 316607902867069, 212872709179305 @ 82, 25, 189
            238753528445991, 301523936325192, 313245539488689 @ 65, -15, -15
            379599462590599, 302611228873528, 350338902550697 @ -192, 16, -22
            177995307124885, 210334085263090, 151690006346429 @ 239, 143, 275
            226636375324317, 398568597830488, 308298286204598 @ -14, -74, 74
            241928920505863, 377248173876682, 209567229958961 @ 12, -97, 181
            302730427045063, 299784821461276, 282818195904053 @ 52, -111, -76
            228977965957329, 121751658702074, 507323095001897 @ -49, 245, -103
            495910176566635, 482206100683476, 554657540616761 @ -399, -363, -481
            270639052697059, 306549937334560, 328991147970461 @ -71, 40, 54
            321016938512446, 399773998262441, 200913171105597 @ 51, -505, 129
            138854573610383, 157304431697138, 160107154636109 @ 32, 207, 251
            308977105957547, 344965272037946, 309403544522603 @ -82, -57, 26
            311963302471675, 251158010804226, 72731835458733 @ 126, -33, 603
            258627550256334, 331560553246532, 310241572618852 @ -65, 18, 84
            227079488302827, 119641914726680, 229949219151565 @ 209, 362, 88
            474181220024151, 414865393462576, 482997748923369 @ -326, -137, -200
            237805279666763, 369307253718380, 472284936813691 @ -38, -28, -104
            336759161010693, 276803626371752, 232366858131303 @ 37, -138, -14
            285260173131958, 366410057542153, 391876112481349 @ 129, -335, -431
            215308893104317, 326724080962126, 357548117279546 @ 30, -8, -16
            213853230177364, 230169283668988, 358354128875021 @ 141, 106, -127
            281937306006151, 430233809413552, 360402312751427 @ -52, -166, -34
            306835778244187, 234809283449844, 343595407786483 @ -102, 120, 16
            388068293128213, 212557280152243, 184427972700104 @ 30, -45, -42
            255550659347143, 293261084062138, 469148228566079 @ -84, 75, -48
            279777638558533, 305379745666033, 324285166980194 @ 22, -47, -72
            302060306499868, 442163096469403, 345110770534454 @ -129, -69, 72
            301859458999952, 454991102465631, 273986564796659 @ 29, -475, -25
            198074216132137, 336747869633692, 544540598576600 @ -30, 34, -118
            179482776920027, 389114872312318, 286898605054085 @ 74, -89, 83
            368264434084857, 306774350011220, 328505421828673 @ -187, 44, 61
            381662263968518, 330120005642029, 216040118582723 @ -143, -323, 59
            29347732679711, 157804089779856, 51444115078017 @ 334, 228, 417
            370353488300455, 153268402815880, 125510914636145 @ 74, 573, 606
            265746162850023, 157917802294536, 29927073740241 @ 182, 288, 648
            11647101799117, 162535934305885, 282752708757437 @ 190, 205, 121
            384167640680809, 262925268463405, 208730867313567 @ -126, -155, 31
            275289388506595, 263748923788522, 348444473677688 @ 8, 48, -88
            234038042849869, 457165486197504, 487751837993437 @ -51, -102, -89
            254453428808928, 292510744582503, 331008389074609 @ 5, 21, -11
            383137119835921, 233137479438565, 467269952359583 @ -186, 99, -349
            181760957373223, 267990993803608, 367249421310449 @ 60, 77, -15
            342772317506088, 195571130616858, 218599497922764 @ 11, 180, 42
            138942685211892, 449967672146504, 495391271341505 @ 43, -90, -91
            301178023158675, 259094298872206, 246118132832953 @ 46, 7, 33
            290565171346003, 407230592360926, 128973285080921 @ -8, -236, 317
            477116240993767, 470774794888896, 427731635821497 @ -300, -103, -14
            109545436412263, 259670007959368, 382142687867889 @ 123, 94, -12
            348248514871399, 281933169835784, 181940162117937 @ -135, 29, 219
            314973602170582, 235418052483559, 181439399604269 @ 125, 23, 185
            339762780094493, 468346787359298, 532389389674554 @ -142, -192, -242
            418194346655359, 284109595217980, 281767190056581 @ -246, 55, 94
            325008844018295, 241016344159319, 224377691134267 @ -116, 107, 163
            215063995257423, 453094802604638, 25077578126217 @ -8, -129, 409
            297655058139175, 437184572786200, 395340507795137 @ -84, -155, -64
            275782564110463, 350911437632408, 375357794956041 @ -33, -64, -72
            283524676320025, 298993321012891, 242148150234911 @ 30, -47, 83
            232808088065018, 360592624334734, 418555025020417 @ -43, -8, -27
            360465350422135, 469334972231223, 543533428734061 @ -180, -129, -167
            352493378430108, 316790635233868, 173110748805544 @ 127, -638, 198
            178545257717657, 163566952073460, 520515932732957 @ 13, 204, -133
            238622167508965, 325544724359299, 369059196008405 @ -22, 9, -7
            381732176697238, 333471354286378, 490381319232749 @ -179, -124, -455
            197836133386367, 393355764529216, 302777621166657 @ 5, -53, 91
            349414437329575, 331413048189928, 310631476308545 @ -124, -84, -28
            342925370215135, 205238954109810, 242175124384231 @ 36, 140, -81
            158341181539593, 317053254319498, 519848112291959 @ 10, 52, -97
            172336601699083, 140450521256608, 234914085186599 @ 262, 290, 100
            325795215781031, 163192740468680, 141478402991537 @ 115, 323, 353
            301184910771447, 189964800349398, 421564011414330 @ -116, 176, -32
            335404433020573, 271012214104291, 287656094202674 @ 42, -115, -230
            369518048114439, 147932065059856, 201262870860809 @ 56, 583, -40
            367738950407451, 188113367998556, 146201553101741 @ 173, 287, 464
            273041709059871, 297441919966400, 314728914987805 @ 10, -12, -24
            388785487173919, 252236154432538, 246374687731802 @ -172, -24, -42
            247095302306473, 451720384398568, 319489521315839 @ 81, -330, -56
            278698871724849, 297362268529986, 298178681913155 @ 55, -55, -52
            293517508833898, 467241849979216, 273836958407597 @ 7, -402, 17
            176691514023941, 339396886160277, 478659797457181 @ 14, 17, -87
            166646025315307, 51015825615109, 356989056460004 @ 40, 333, 30
            295432611181257, 296558530640775, 327933569262472 @ -106, 57, 64
            330909894634863, 160696485880764, 256180323071857 @ -58, 255, 37
            360981046820951, 295008888190528, 402607570071129 @ -160, 16, -125
            348599369845813, 180358394690473, 361616157158144 @ -142, 195, -56
            187382695347900, 358211504358469, 377274223963338 @ -11, 7, 34
            297100785896473, 361564660079284, 227828901644453 @ -113, -8, 179
            392137063734825, 299219958096586, 498816543820612 @ -214, 52, -134
            212648689915833, 316816804277753, 306606070954099 @ -34, 47, 103
            211897485766688, 125364598177218, 52516278257939 @ -35, 240, 359
            253334290981897, 329667593677375, 382184771211480 @ -30, -5, -38
            381397310569621, 276400631798203, 174097859147597 @ -146, -109, 217
            325469710354783, 149442252855178, 254662625711249 @ -128, 229, 133
            338435179067033, 302962292249253, 330003862689074 @ -118, -7, -28
            385509049211627, 196359546693248, 193053043271709 @ -94, 186, 55
            225414204613431, 390679542524072, 405607031741929 @ -56, -18, 15
            56444408557739, 359215078247360, 254625767271319 @ 146, -6, 150
            114146919608837, 249959478431248, 316027932255743 @ 115, 106, 68
            246484409318791, 426404502945808, 416552416677425 @ -16, -139, -91
            284935770377263, 273745776723268, 265344685720409 @ 30, 5, 31
            220077701171338, 325732557809347, 383463419063795 @ -43, 39, 27
            362151858233807, 206555195393668, 232099004238793 @ -142, 151, 111
            252432730962015, 298686441963920, 325879440146401 @ 50, -16, -47
            287942559663714, 354948336670754, 342678438141105 @ -59, -60, -11
            293522684984110, 153125729519572, 418335482032145 @ -45, 242, -171
            346906753506595, 281426989889192, 207913628261849 @ -21, -130, 95
            222886755293765, 257597357839013, 304634084384035 @ -26, 101, 91
            294137222562768, 347145072005183, 398580160837729 @ 53, -211, -347
            363991000342723, 258828715029868, 226882702944839 @ -26, -132, -58
            316113875021047, 387339744337303, 181288227406079 @ -52, -209, 215
            85169943338149, 158252632188898, 271743568168393 @ 123, 211, 129
            374754843671533, 290304131541553, 200645941214124 @ 66, -737, -96
            236858791766869, 207021662923000, 398472888001007 @ -57, 158, 8
            477790855923425, 445806604910074, 444682290300059 @ -311, -113, -70
            36199112714433, 176405734422628, 213307481936469 @ 257, 196, 183
            323650134777512, 232351259308564, 235644486758691 @ 35, 58, 19
            382218564326725, 474223171168840, 488549009722349 @ -197, -218, -205
            277246970102952, 423693200033652, 350959692808389 @ -49, -150, -15
            368718657703880, 325220851461441, 218715803759251 @ -145, -127, 123
            280456979016416, 295657592013586, 352443076764976 @ 11, -20, -114
            353365084417931, 273004117328300, 282984476661573 @ -71, -61, -114
            295385769127233, 249537517652742, 241966520688111 @ 47, 39, 54
            117029536337869, 128557913697954, 74633545638055 @ 183, 267, 376
            251065809958073, 332751051365998, 346305930533773 @ -73, 31, 63
            396702255812503, 185479221077506, 162311248886715 @ -108, 379, 306
            300950201597555, 218912294398963, 371426221668413 @ 8, 121, -223
            224583045524239, 184021557373699, 279158011432265 @ 116, 195, 29
            132543142424320, 255981713381203, 332089546886732 @ 131, 91, 26
            235661473763113, 435835647537948, 375731932387529 @ -54, -78, 29
            206638737514159, 256729647290796, 330496628639513 @ 126, 63, -49
            255271607034503, 352570435747358, 385724555207019 @ -52, -15, -14
            345946570243108, 227250816843532, 313594668007670 @ -153, 130, 56
            309528177535174, 354584076911218, 250879943089841 @ 59, -304, -11
            379675588587743, 325135035782104, 170843664465353 @ -83, -572, 218
            330624129007722, 273633757888786, 208032878486257 @ -115, 52, 181
            360127736167375, 218609903770528, 207162851638433 @ -57, 91, 87
            259798653308935, 279528942541288, 386092914824225 @ -30, 56, -56
            382274411158675, 222770911836604, 181361080431713 @ 18, -96, 77
            405229454274093, 422743644825798, 307474676343499 @ -229, -111, 70
            184756211133524, 294347250779949, 378746555678138 @ 79, 33, -52
            281347495913585, 247764619751743, 231937269029475 @ 38, 61, 103
            67633758847546, 418047861629040, 190763664737115 @ 129, -66, 219
            366857240216119, 211419557942364, 193413447520915 @ 36, 80, 54
            269323363106844, 230970433583796, 188854028791732 @ -7, 114, 208
            251132051577109, 256535953026738, 268950586329136 @ 66, 56, 48
            431708442743601, 480981657374807, 347358684331834 @ -286, -433, -140
            389940153875353, 215946698026450, 185720811341573 @ -63, -25, 23
            221497196692783, 312839941218384, 211113285858193 @ 147, -67, 153
            295373443737508, 341465321067563, 409258972816319 @ -123, 29, 11
            200679737239621, 289138975337789, 431339365713144 @ 114, 15, -200
            302246913072295, 342511897137432, 329432559226209 @ -84, -36, 15
            337646379823599, 272258047357752, 233956579910379 @ -16, -66, 30
            326581481861968, 141499538760838, 320366811392054 @ 23, 352, -252
            189175907276623, 106844816257384, 223634700153425 @ 117, 314, 153
            52783206135183, 230544843278068, 30331855809309 @ 142, 133, 388
            231655584127975, 469961149868704, 309100487876321 @ -20, -160, 73
            339660238746910, 104133525911393, 210376998262650 @ -27, 461, 108
            333891529416679, 165019053118237, 303623850172587 @ -36, 259, -129
            88474161805051, 308669435255548, 268423512975961 @ 75, 61, 147
            200134884340159, 342775811471084, 206204933810045 @ 48, -28, 191
            85618651407848, 313918989290028, 226062562018044 @ 161, 26, 172
            367509375194167, 210900843346568, 206371204619641 @ 24, 86, -29
            375399894354145, 201402729997332, 139750647179787 @ -45, 152, 412
            322112034541223, 221689164469503, 307063488893504 @ -100, 131, 26
            425908195333157, 361112157033454, 315064257850425 @ -269, -143, -39
            336264513930631, 140254281081307, 269892387982751 @ 60, 415, -193
            359636285197451, 512685053178252, 546583173295173 @ -161, -303, -324
            301904496873968, 103340136497887, 266369382865859 @ -13, 367, 35
            298873350505415, 435026421476712, 266734473398097 @ -19, -301, 46
            338904952534645, 332756709035814, 308951886170131 @ -99, -97, -36
            126175931952567, 333114487100476, 319894125305025 @ 40, 37, 97
            305951648841283, 145351767871548, 229256906491889 @ 147, 371, 5
            161712155293336, 483649246568839, 326302596664361 @ 51, -161, 61
            218248515024183, 64564409838648, 249297825610209 @ 97, 401, 100
            363010690349858, 320609910413403, 345218343205874 @ -169, -7, -10
            331171892395977, 381482501959370, 160177331824047 @ -95, -165, 256
            378778712998425, 227998503763454, 196241369480838 @ -34, -52, 18
            147700329930034, 307438714679533, 437391857646012 @ 21, 61, -18
            212578859471635, 359871870588240, 390872920128277 @ 6, -30, -29
            403605482006842, 280054746223087, 335332301438036 @ -225, -131, -376
            311614529896315, 259401261197308, 201422331355373 @ 165, -89, 96
            108439815976871, 297176656319784, 333225801809473 @ 68, 68, 78
            371362533663556, 269087589744637, 171282946219589 @ -97, -111, 225
            204877587519379, 329600848084132, 256560765124097 @ 205, -117, 49
            281678544938368, 294135204488683, 285273997393376 @ 37, -39, -12
            362462482588136, 278508065281757, 238823191853996 @ -91, -93, 8
            336955832566795, 293165672910568, 214569881035121 @ -27, -114, 101
            318204074740069, 363964133945587, 139242062639432 @ -14, -243, 312
            233460248814566, 289074064433762, 176316947023193 @ 179, -48, 221
            321715541839165, 239591705201682, 303325049203835 @ 210, -48, -481
            193548422710679, 421664122813368, 384848087336577 @ -10, -64, 19
            271559476052183, 26971674712308, 391080546693649 @ 32, 503, -195
            364105457245316, 297489433694190, 387150255130849 @ -155, -12, -155
            240713136245418, 185234110289583, 313060070890249 @ -5, 185, 45
            241978914402883, 394318914010028, 456386224403649 @ -69, -25, -39
            262386277491969, 406773649091810, 89754667253503 @ 58, -252, 399
            307069700983153, 147864742857968, 333772800691589 @ -99, 234, 23
            178735495965199, 360257339978869, 408303019671827 @ 20, -11, -21
            95234686392118, 308051335117303, 93946690006640 @ 127, 41, 328
            349497189535627, 231319507064998, 348540510187937 @ -134, 111, -67
            158696725579811, 337006410972392, 510795592265409 @ 43, 14, -135
            312297019934263, 361653503937913, 331961143546679 @ 140, -483, -417
            298615497463903, 125438244269648, 433157535620219 @ -96, 258, -88
            324729480059363, 219105654507033, 253688107619552 @ 152, 71, -172
            343467015094791, 244144552233432, 253745811179089 @ -26, 17, -45
            391227279742375, 251413012754168, 361962875010801 @ -204, 71, -111
            174995604143874, 258326442515151, 358616163305337 @ 125, 75, -51
            289002530729367, 324141104381304, 315995273793921 @ 14, -96, -69
            265828905902401, 539640298481149, 367095741147049 @ -90, -173, 45
            356629952209303, 298929840518704, 134785145366417 @ 82, -481, 449
            361751647429693, 172459349665508, 281317299062219 @ -129, 228, -22
            233421154923641, 106516965872622, 270364876350531 @ 130, 360, 27
            237096607105559, 273152663353338, 315196386108985 @ 100, 21, -47
            311965007999883, 147648817121328, 476953020148749 @ -106, 234, -165
            200813075189027, 345579199625860, 315997853920053 @ 14, -8, 67
            118653140744943, 337457866486528, 451083039437525 @ 82, 16, -64
            296937765493903, 292868339836918, 270089014148579 @ 68, -92, -41
            375453900653303, 334247938352891, 281385324209507 @ -148, -207, -73
            340166802203683, 456204718506328, 517568527274699 @ -166, -82, -94
            247209284795147, 331572400925832, 233558950908507 @ 190, -186, 66
            309868299452903, 245599885818760, 409497488879313 @ -118, 112, -38
    """.trimIndent()
    )
    check(769840447420960, result)

    result = test(
        """
            342948424011438, 174891902666380, 342806081991021 @ -59, -15, -33
            293706396323705, 260477020213330, 361057996757008 @ -31, 22, -178
            349281020720534, 232777231877012, 244513365239874 @ -154, 120, 24
            282727593834978, 383059564665621, 130695782953488 @ -34, -153, 316
            297811030268616, 250609132799222, 271517844969369 @ -23, -36, 18
            312403651749014, 149654087398484, 314855536486601 @ -22, -12, 7
            284340282896044, 300700871786494, 276696543855989 @ -12, -62, -17
            313396881902120, 183836443891534, 476373434417657 @ -39, 30, -238
            300028824620199, 168040902112289, 403949423844675 @ -107, 627, -603
            361838822025676, 138556487715742, 262611366334245 @ -100, 84, 39
            281483560575756, 353940107898038, 212028914019389 @ -44, -17, 68
            328999079845728, 472905419289562, 266989186848617 @ -71, -351, 20
            214267488744084, 289674523547664, 212868973578459 @ 248, 361, 48
            501066324421320, 517794882904074, 555269433273201 @ -399, -445, -516
            419781390262384, 311811208272517, 305823655282774 @ -136, -165, 10
            110408618992014, 51861200257248, 156474138523869 @ 178, 88, 163
            278750333521380, 37649672543326, 169662975156141 @ 7, 190, 156
            222194369523004, 324421990028698, 153526500620333 @ 68, -180, 167
            284928168298764, 556549912438962, 426332859431589 @ -52, -723, -661
            263482116499836, 157447433806158, 311556163554885 @ 26, -12, 7
            316114452133068, 233726115874110, 296680146270597 @ -60, 28, -38
            251265922681956, 425448881178465, 292622003840493 @ 116, -259, -701
            213080189537386, 350593361766942, 321560260032357 @ 177, -46, -261
            404255684237874, 486829397175027, 452932638007134 @ -298, -419, -462
            224919047748317, 266660935900932, 180573080928780 @ 89, -16, 150
            277023260825236, 349997710241134, 209974720582949 @ -19, -48, 83
            333358378272756, 307716752595606, 314296897484637 @ -101, -69, -88
            275805993680161, 341773798982403, 225704632183182 @ -15, -25, 36
            319019089063167, 291358365389478, 219637871777033 @ -143, 122, 55
            268616722855500, 393769872165630, 212865501059301 @ 9, -193, 80
            288505868595154, 403240139966762, 215227128666494 @ -70, -194, 56
            261502975177164, 364949116956252, 259205877385389 @ 28, -127, -33
            290463009852724, 260621593893974, 412518225172831 @ -12, -54, -175
            271743925128080, 380916407309682, 196147978480802 @ -88, 254, 130
            161183726712564, 171103723953082, 379848595287804 @ 148, 22, -96
            328695541012650, 296419802874288, 214487083104213 @ -154, 72, 75
            33766873588506, 10147852255826, 110670611361270 @ 274, 166, 216
            240482246147265, 364070725712532, 419252692908840 @ 129, 24, -946
            336505984575173, 64289463650464, 337031335064757 @ -49, 88, -21
            270855901994649, 277072380568965, 308377560195230 @ 13, -43, -56
            271073867402889, 245466723760017, 199530891260674 @ -17, 575, 110
            299682044336604, 168972124728030, 330392708897949 @ -12, -14, -17
            259254329691783, 105534393612485, 237241585576767 @ 31, 145, 69
            450299696482836, 265168977107850, 297254544309057 @ -158, -125, 24
            315738396109014, 446668268656172, 292581877152844 @ -122, -336, -142
            266537007821834, 406943454640141, 337215477626202 @ 18, -243, -156
            220853959569492, 296830916835630, 107758639561041 @ 202, 278, 504
            309891298024168, 357982344327308, 347856036137697 @ -70, -143, -183
            446369062376265, 225317127702388, 366426618295361 @ -203, -32, -89
            196747454292700, 214226691394686, 179460612120785 @ 144, 98, 154
            158599732956196, 258267187198206, 265072429348655 @ 144, -94, 46
            271789071299063, 57499096460635, 334441407240711 @ 15, 183, -51
            169903234767054, 81202100249352, 64839296689499 @ 187, 317, 352
            239322029849899, 252940687420637, 466534220820159 @ 65, 7, -327
            256208232623064, 424565790671106, 325745895457785 @ 53, -267, -486
            362681123354754, 201285462120102, 217555997287359 @ -118, 42, 93
            196910834878134, 203234994413384, 155857611317190 @ 118, 28, 180
            270580853767392, 369799724142174, 200944672857633 @ -98, 530, 65
            291890419393188, 252776724905226, 258264365848529 @ -14, -43, 38
            259542591129234, 356293207547652, 209300543631219 @ 61, 931, -88
            151176781080299, 163210571373817, 318422959249425 @ 213, 159, -81
            275873638050808, 315970722696318, 226680407923821 @ -21, 98, 21
            271305760316864, 554065444800382, 447227127159244 @ 8, -542, -388
            265555887185659, 407977842511876, 187965357907177 @ -7, -108, 199
            274558089108474, 363169168534213, 281189036929047 @ -62, 165, -459
            294060907232410, 425201412943124, 257020239286043 @ -193, -263, -286
            231462059651716, 176507329950854, 320848009227629 @ 74, 100, -67
            290919645841512, 264123863570640, 270307643500779 @ -16, -40, 13
            360586774975362, 317234148450027, 234490532818122 @ -190, -41, 40
            272713447104312, 354428211494166, 247931710507405 @ -11, -28, -55
            356171901142898, 433408273279939, 483607143718121 @ -306, -303, -889
            159032916841464, 251316594091461, 57406687503357 @ 128, -113, 259
            284112542333804, 380530262814942, 232100516516869 @ -171, 137, -188
            262276631215964, 346969082918822, 225391240275509 @ 26, -75, 49
            241582422193717, 75160629176872, 440310792024632 @ 59, 264, -256
            280287697703503, 382237882284892, 248240985710786 @ -49, -96, -88
            291143910860820, 284573509679676, 180012394496973 @ -156, 608, 227
            200913288818598, 118171401887514, 119576366410503 @ 174, 462, 309
            257384209651426, 413231686272182, 198999873565733 @ 87, -66, 91
            260846916305324, 410138139241722, 209559114840789 @ 36, -61, -33
            287053364697414, 372889945858077, 465045056802534 @ -22, -177, -402
            238854982177074, 163706746445952, 330684534144789 @ 51, -17, -13
            170939942566904, 346878788145822, 240345170501989 @ 161, -166, 59
            265384713751614, 456193269319422, 300494647634934 @ 10, -414, -358
            244208461906824, 338861790868458, 263298976715217 @ 113, 155, -204
            279472360454370, 460626123309463, 234882844700649 @ -170, -639, -297
            271817168372204, 196520448123822, 304328267302469 @ 14, 29, -23
            249230942113938, 299649392827368, 310912685332107 @ 101, 481, -556
            278697925073152, 382805651313266, 210542643563803 @ -138, 156, -10
            260482245832166, 292322427454989, 252395716142300 @ 30, -19, 14
            271409482279950, 257820482097530, 273187593061401 @ 7, 76, -39
            295004451420666, 247020065741884, 274936078074747 @ -53, 153, -66
            221412878745246, 303522400160512, 178605495806647 @ 145, 79, 176
            275310161735154, 204387384713432, 163891713130409 @ 7, 55, 173
            241763558022300, 304171650520958, 240431950243093 @ 61, -78, 50
            319986714792300, 364056013367934, 460699050361665 @ -204, -30, -924
            255092450227896, 326895558317016, 320459959611012 @ 72, 412, -726
            346539654457518, 277080781928211, 186585519320430 @ -114, -33, 140
            263247260225822, 157353469945903, 314505207624324 @ 26, 25, -12
            277389855301164, 54453768092022, 286526839540509 @ 8, 185, 10
            275079990460569, 470096670307203, 214610044069527 @ -7, -393, 77
            253628211658752, 416996393165671, 204859473789388 @ 64, -233, 86
            330387298266420, 141571782140322, 362279687596038 @ -44, 14, -50
            273687527182448, 362291497336412, 236186576268769 @ -6, -101, 13
            176960699913432, 367695708633450, 312050887654089 @ 171, -183, -72
            126850242306144, 300151803658326, 205052288862741 @ 223, -100, 111
            334106999644010, 311959925921863, 501084963009455 @ -66, -135, -271
            261629842048192, 426115891027176, 190866657337107 @ 26, -247, 216
            269098916383672, 409702589850094, 243470740474519 @ -46, -102, -332
            292991649464476, 284202703158206, 154909070531165 @ -54, 90, 232
            348602136371040, 333674042429152, 341931235496369 @ -128, -116, -137
            270792073737882, 445552496731794, 50967506821683 @ 5, -328, 484
            225869589002166, 161773952189676, 401875214091117 @ 69, 21, -113
            314951469370804, 221285992532604, 553343778103193 @ -112, 257, -811
            327966529390410, 223971661816386, 257255268989043 @ -61, -12, 42
            317533174566222, 43259300968174, 506406542411019 @ -29, 106, -192
            318944291656739, 212282208954851, 253222575036977 @ -147, 373, -49
            236519671652001, 175980837146685, 235628883434607 @ 55, -13, 81
            367157273182402, 320883957239892, 389610704946557 @ -75, -181, -65
            323823647933460, 242204820009596, 285053586577995 @ -80, 37, -30
            189777694914900, 389738601536829, 300369149440957 @ 100, -247, 19
            262237657020774, 413387532248292, 205469120987289 @ 15, -17, -31
            99412867737504, 109724009885022, 138307239566589 @ 333, 314, 233
            199907303620206, 267801093934968, 173967568925970 @ 182, 116, 180
            407488891725152, 306838694650066, 433920953801265 @ -225, -75, -288
            203656416802596, 237374782607400, 307638537057831 @ 100, -48, -15
            272013731820782, 457255494949362, 448068602955503 @ 17, -316, -140
            235954524614304, 98163167732566, 314288839429065 @ 58, 102, -15
            442872544486089, 448938575959077, 430334582925549 @ -177, -309, -141
            263913058276896, 261089019580848, 340165911273963 @ 24, -8, -115
            350446805751903, 472154120191686, 331089302809923 @ -119, -358, -99
            311321421639435, 318594611239089, 140535245090415 @ -73, -63, 237
            160056213820008, 330702569141282, 185197476509707 @ 142, -176, 136
            256682727564165, 417120930001983, 205963220906091 @ 115, -79, -43
            287109951055677, 483033455438610, 184769906067993 @ -83, -522, 175
            263885327462250, 141119285945178, 349236513085413 @ 25, 76, -69
            273535004519096, 378715092740020, 210738646075701 @ -34, -29, 51
            259183220660284, 377555195640862, 287700343901605 @ 33, -176, -73
            185940249613610, 187432160234922, 237762764752050 @ 122, 14, 72
            251319674504884, 291624400970056, 247682470201309 @ 48, -17, 23
            223161944733584, 338260926679042, 365726439981109 @ 87, -147, -137
            236177336694054, 291107757532482, 236563398741939 @ 70, -58, 57
            235421445158664, 273523243811322, 265526364161409 @ 83, 41, -22
            403599226549140, 200374603414806, 280014275724501 @ -170, 32, 7
            220047850985900, 181661446568606, 357179273493061 @ 74, -12, -55
            310078239917314, 72047351819521, 161791776227001 @ -22, 81, 159
            254480478886640, 341032713602710, 232625522365989 @ 75, 300, -117
            403836829908684, 379662532448262, 347106100900077 @ -132, -231, -46
            304209282203708, 324493171635021, 229558309735291 @ -84, -13, 37
            262217138508936, 378042901419026, 228427207881801 @ 19, 351, -276
            271117289691348, 204255789681262, 88604928555339 @ 16, -6, 258
            328270291725789, 299390701950597, 295616279652159 @ -49, -137, 9
            230336910269507, 268958730851052, 213489221180603 @ 69, -76, 101
            280112674348344, 240850771020612, 269562731244819 @ -6, 57, -10
            350966250147849, 288856679819914, 319458458228277 @ -77, -122, -21
            259665921764368, 416583338778591, 222484714619053 @ 56, -103, -269
            254214389781898, 175571759147988, 339413995290115 @ 35, -43, -14
            308915952118648, 286834670074928, 251436032088763 @ -70, 7, 10
            247990927749792, 345785196675250, 227254689240133 @ 67, -47, 35
            223506952864780, 417641788583230, 223813982723301 @ 87, -269, 81
            292637653438257, 61577981570853, 374139285418257 @ -5, 103, -65
            284733980387214, 298355371864972, 319256721583809 @ -5, -101, -51
            261502975177164, 125175896363398, 83361267097403 @ 28, 118, 274
            271586353665294, 399016901386587, 196464970467129 @ -106, 107, 127
            188137700583895, 249629414212456, 231116182111902 @ 201, 136, 42
            232912287051316, 280042524097490, 193036746649581 @ 74, -47, 129
            263964146375944, 286896653139602, 226651617110809 @ 21, 117, 38
            263715303039372, 394667434458366, 229766524117845 @ 16, -102, -56
            383021791661900, 247692465926990, 455683899690909 @ -148, -24, -252
            311670418028467, 176930163659784, 184429710401064 @ -33, 20, 138
            265815590620992, 324008870499393, 231626275010852 @ 16, 5, 26
            191992048193570, 251385882561088, 189912776855611 @ 170, 76, 137
            306002189937164, 130242786962222, 293855162679909 @ -16, 9, 27
            279954884629539, 419753669358972, 257579302218159 @ -43, -252, -111
            354102018681072, 389474681807985, 195967699223496 @ -88, -237, 124
            324306093653676, 56132411825130, 438383519867601 @ -44, 141, -154
            281533703028395, 399106364130073, 275763556455438 @ -61, -155, -228
            238176836886564, 309214851995622, 260798503323909 @ 79, -25, -17
            203189213816204, 446916977154238, 310061274626917 @ 98, -308, -13
            393099081464502, 250849599507246, 353143158077460 @ -126, -78, -60
            214318856173828, 142957360331313, 394770751943194 @ 84, 53, -112
            271277858726692, 213329859454138, 188903560506593 @ -18, 727, 160
            344941275970737, 309097907455994, 425448717163035 @ -53, -170, -99
            279888530293238, 248519505198909, 190276947387177 @ -6, 47, 135
            157014900772730, 311156295460336, 394646036950961 @ 141, -159, -91
            286945948906260, 298290929551094, 270396390813505 @ -38, 52, -68
            189720127471503, 33263967068002, 318484708601682 @ 97, 94, 6
            245812751601052, 347068850779814, 197107058656781 @ 74, -47, 122
            280130333349524, 367161372275282, 198858928432309 @ -150, 301, 103
            187778454146124, 40614503086374, 163589932375941 @ 108, 135, 159
            342873906050137, 400554432274475, 349934777894917 @ -91, -245, -101
            259623216231446, 102451617930149, 367824030900247 @ 30, 61, -59
            302674476428492, 308751318155678, 304105952245157 @ -28, -123, -23
            306083765461093, 329855652113459, 193483945469313 @ -135, 75, 135
            222861561619734, 186436936718994, 247429153504095 @ 118, 278, 5
            271871492342376, 454602039830210, 109270234270313 @ -29, -429, 604
            245344511925900, 297404983192638, 198409200390885 @ 87, 193, 117
            278239230434962, 348405646687548, 193019044020999 @ -106, 356, 153
            270797799177100, 217713475513674, 175271686340057 @ 12, 77, 160
            262740822837189, 312644730856547, 259896197501184 @ 25, -5, -30
            298593236083596, 366386336617060, 103267600804945 @ -68, -125, 365
            208822321730157, 42265003067504, 238084126406189 @ 79, 88, 83
            108118685355512, 219797964373938, 105546235007649 @ 255, 23, 258
            330634765891935, 219190602847191, 231832817202474 @ -41, -77, 88
            202159945112220, 140116732196522, 305561521958973 @ 100, 64, -9
            223050588845952, 245483193435022, 254052175047633 @ 175, 414, -96
            503630118029934, 378079828125717, 434082636655869 @ -274, -223, -173
            298555830226564, 191451522696062, 287545461710939 @ -12, -30, 25
            324159958913852, 248450966769244, 342728258499239 @ -60, -33, -82
            314517762779097, 349440957183984, 205228421198903 @ -185, 32, 89
            266212298651504, 171460733313258, 380429582339169 @ 23, -13, -72
            317994050937080, 301051660781246, 198845392941501 @ -135, 82, 117
            311941891479614, 255545512928432, 229357266604569 @ -37, -63, 81
            237364476752480, 322552819789503, 488152126395023 @ 56, -163, -215
            258668906790414, 230205007939722, 385703859289909 @ 31, -76, -77
            243134377350144, 260648329165182, 272339626471077 @ 63, 34, -21
            267683532435975, 281682703245099, 268080089056959 @ 15, 23, -27
            377281621527968, 502432868669034, 249641254149725 @ -99, -367, 65
            247338277249146, 144008136640224, 432415032369663 @ 50, 156, -243
            266554903796825, 263319558740455, 301413059675744 @ 21, -57, -22
            233914720514284, 37181431982612, 370054691441124 @ 60, 168, -78
            325826459785859, 169375752559272, 130522378213044 @ -39, -16, 192
            203810720469702, 325280408675604, 334959042069411 @ 114, -132, -83
            230133339384240, 450453480564866, 124520745013781 @ 61, -309, 199
            273011542414888, 371235623860286, 218651111095253 @ -33, 18, 7
            230532729819509, 34346941945857, 397654044835509 @ 65, 185, -117
            265086426496914, 407619968770722, 197495929145784 @ -26, 30, 112
            335995530793047, 136137539631348, 335634805086802 @ -53, 32, -28
            271122781780368, 418306553470866, 221147200816995 @ -30, -224, -24
            309831078858084, 225611759552358, 285367490254929 @ -62, 92, -42
            249987450822323, 60978825223067, 315464448651347 @ 41, 129, -11
            292039278974688, 400721711934870, 210700008378585 @ -75, -192, 76
            245591024236514, 44793538323744, 316423837913597 @ 53, 317, -65
            351840907973192, 286555588535230, 186322275187189 @ -145, -14, 143
            169609428182772, 194351341889262, 188958018402477 @ 181, 104, 136
            355169805132444, 258428387260130, 443421952388813 @ -92, -68, -193
            210008330355016, 293537801988098, 345420318873657 @ 81, -147, -30
            369164942037654, 292217970322268, 294174413047019 @ -77, -153, 28
            291449335745664, 159904393244847, 258322374675159 @ -8, 37, 49
            333894297675593, 205433073591445, 144117732295597 @ -93, 87, 211
            145162270009864, 269486019837482, 261539440527649 @ 213, -33, 20
            244401372200244, 267938373107822, 299893815094669 @ 61, 24, -76
            345401432572404, 180206204039472, 307158673938909 @ -124, 164, -77
            298063340880298, 395243527392880, 188730721630429 @ -154, -120, 163
            265136068398132, 334129371267054, 230271159877725 @ 19, -52, 40
            214101022607742, 262682961019245, 347915589183915 @ 134, 85, -215
            233000498698324, 295849690267910, 490748652807373 @ 63, -123, -238
            391624177635684, 196230504907722, 532912406524419 @ -140, 14, -311
            313006105065504, 185319692135382, 288814113874389 @ -66, 158, -45
            264402427025394, 408486928864494, 258041049232503 @ 13, -182, -194
            219645571453581, 313369414869886, 66692959569850 @ 121, -30, 412
            261002987774010, 405423711999420, 185932906438239 @ 34, -8, 253
            327289072454519, 257256772432737, 224237084384299 @ -63, -49, 85
            322824447417817, 368284700764508, 266896048352700 @ -153, -108, -84
            175226642885726, 75479445324584, 344414123132473 @ 125, 111, -43
            243362424470832, 96013032062802, 360030923196897 @ 46, 44, -39
            268816654099483, 205855027832507, 260594437434693 @ 17, 49, 27
            248222360711726, 189929340942145, 200672029917979 @ 62, 325, 113
            230330300063038, 404953371024588, 369414629010453 @ 119, -217, -381
            237343193624924, 280788778457342, 204724483115941 @ 113, 234, 95
            242405010417864, 264892954218222, 292937860806384 @ 56, -46, -18
            332498850236224, 325138662783306, 231249677582881 @ -112, -82, 55
            263639040914889, 38401786921122, 342730458917784 @ 25, 262, -82
            218474904166732, 245384336413117, 125500724228881 @ 156, 259, 335
            297918707108537, 311318793877292, 327615715474673 @ -31, -96, -89
            360711958483584, 92323556857830, 489171391321989 @ -67, 36, -157
            272553443681276, 306343987185483, 278263172057735 @ 12, -109, 5
            307390018325084, 51786575316802, 441202715916329 @ -24, 141, -154
            299422099286625, 304679214588956, 257063590423806 @ -155, 312, -168
            350506680018778, 148976385996532, 524425623601957 @ -85, 69, -293
            192054885922170, 276076344099294, 363577553775924 @ 130, -62, -122
            263413926289070, 165834017125147, 351553006904295 @ 26, -11, -39
            309122230994010, 227530714896650, 306365841338999 @ -35, -20, -22
            263366029857872, 320532623531158, 214464986306635 @ 24, -54, 85
            238607732164250, 225455404876368, 136361495912221 @ 75, 131, 247
            413936643962610, 281473579789059, 407691624810468 @ -230, -37, -234
            328911602444460, 295912496898814, 118122568361397 @ -98, -38, 270
            293695444608048, 278857379054622, 271632174818709 @ -15, -86, 23
            304917059711901, 362391013629467, 218011157144142 @ -113, -71, 54
            268531497790177, 280351863537766, 367367379355770 @ 17, -54, -144
            289924894096818, 83518548641551, 93645414862190 @ -50, 661, 406
            119152761400388, 47885734911542, 96624246682991 @ 200, 174, 244
            276016057564979, 311069225432842, 225792131615539 @ -13, 46, 41
            354528137387199, 161057576685552, 368556959826324 @ -109, 108, -130
            93373025092734, 31560033367062, 342613634383029 @ 194, 106, -21
            180450881366312, 172434592874152, 128712793734571 @ 134, 49, 212
            266515704941168, 395680134387674, 211259294201051 @ -18, 16, -10
            308228606199117, 279871657566006, 251530416102198 @ -65, 10, 14
            285839604735704, 361878798692930, 205927992085477 @ -57, -53, 91
            318217364028339, 119238583096722, 346285719265734 @ -27, 14, -22
            285645040710510, 311141908633782, 371632819892253 @ -9, -106, -145
            213174469458839, 267586830247745, 64760105506427 @ 203, 297, 601
            260746874212976, 125393308372834, 401669328134857 @ 29, 115, -148
            316579685215169, 161169142659017, 86612546763899 @ -55, 117, 289
            168450263357382, 287130874518513, 302507684816934 @ 226, 15, -102
            306465314173414, 183275273448682, 314027746942129 @ -97, 396, -203
            114471038738714, 253351731991702, 109747065682459 @ 273, 6, 268
            249007845691836, 314051108063382, 270695482961433 @ 64, 44, -90
            392931560877804, 236558028127398, 272702483022501 @ -152, -23, 19
            324247104297256, 140462149447589, 198417128132543 @ -48, 63, 121
    """.trimIndent()
    )
    check(886858737029295, result)
}

private fun test(input: String): Long {
    data class LongPoint3D(val x: Long, val y: Long, val z: Long)
    data class Equation(val location: LongPoint3D, val velocity: LongPoint3D)

    val equations = mutableListOf<Equation>()
    for (line in input.lines()) {
        val (token1, token2) = line.split(Regex(" +@ +"))
        val (dx, dy, dz) = token1.split(Regex(", +")).map { it.toLong() }
        val (vx, vy, vz) = token2.split(Regex(", +")).map { it.toLong() }
        equations += Equation(LongPoint3D(dx, dy, dz), LongPoint3D(vx, vy, vz))
    }

    // rock and hail1
    // x1i = vxr * t1 + dxr
    // y1i = vyr * t1 + dyr
    // z1i = vzr * t1 + dzr
    // hail 1
    // x1i = vx1 * t1 + dx1
    // y1i = vy1 * t1 + dy1
    // z1i = vz1 * t1 + dz1

    // rock and hail2
    // x2i = vxr * t2 + dxr
    // y2i = vyr * t2 + dyr
    // z2i = vzr * t2 + dzr
    // hail 2
    // x2i = vx2 * t2 + dx2
    // y2i = vy2 * t2 + dy2
    // z2i = vz2 * t2 + dz2

    // rock and hail3
    // x3i = vxr * t3 + dxr
    // y3i = vyr * t3 + dyr
    // z3i = vzr * t3 + dzr
    // hail 2
    // x3i = vx3 * t3 + dx3
    // y3i = vy3 * t3 + dy3
    // z3i = vz3 * t3 + dz3

    // system
    // vx1 * t1 + dx1 = vxr * t1 + dxr
    // vy1 * t1 + dy1 = vyr * t1 + dyr
    // vz1 * t1 + dz1 = vzr * t1 + dzr
    // vx2 * t2 + dx2 = vxr * t2 + dxr
    // vy2 * t2 + dy2 = vyr * t2 + dyr
    // vz2 * t2 + dz2 = vzr * t2 + dzr
    // vx3 * t3 + dx3 = vxr * t3 + dxr
    // vy3 * t3 + dy3 = vyr * t3 + dyr
    // vz3 * t3 + dz3 = vzr * t3 + dzr

    // vx1 * t1 + dx1 - vxr * t1 = dxr
    // vy1 * t1 + dy1 - vyr * t1 = dyr
    // vz1 * t1 + dz1 - vzr * t1 = dzr
    // vx2 * t2 + dx2 - vxr * t2 = dxr
    // vy2 * t2 + dy2 - vyr * t2 = dyr
    // vz2 * t2 + dz2 - vzr * t2 = dzr
    // vx3 * t3 + dx3 - vxr * t3 = dxr
    // vy3 * t3 + dy3 - vyr * t3 = dyr
    // vz3 * t3 + dz3 - vzr * t3 = dzr

    // vx1 * t1 + dx1 - vxr * t1 = vx2 * t2 + dx2 - vxr * t2
    // vy1 * t1 + dy1 - vyr * t1 = vy2 * t2 + dy2 - vyr * t2
    // vz1 * t1 + dz1 - vzr * t1 = vz2 * t2 + dz2 - vzr * t2
    // vx3 * t3 + dx3 - vxr * t3 = vx2 * t2 + dx2 - vxr * t2
    // vy3 * t3 + dy3 - vyr * t3 = vy2 * t2 + dy2 - vyr * t2
    // vz3 * t3 + dz3 - vzr * t3 = vz2 * t2 + dz2 - vzr * t2

    // vx1 * t1 - vxr * t1 + dx1 = vx2 * t2 - vxr * t2 + dx2
    // vy1 * t1 - vyr * t1 + dy1 = vy2 * t2 - vyr * t2 + dy2
    // vz1 * t1 - vzr * t1 + dz1 = vz2 * t2 - vzr * t2 + dz2
    // vx3 * t3 - vxr * t3 + dx3 = vx2 * t2 - vxr * t2 + dx2
    // vy3 * t3 - vyr * t3 + dy3 = vy2 * t2 - vyr * t2 + dy2
    // vz3 * t3 - vzr * t3 + dz3 = vz2 * t2 - vzr * t2 + dz2

    // (vx1 - vxr) * t1 + dx1 = (vx2 - vxr) * t2 + dx2
    // (vy1 - vyr) * t1 + dy1 = (vy2 - vyr) * t2 + dy2
    // (vz1 - vzr) * t1 + dz1 = (vz2 - vzr) * t2 + dz2
    // (vx3 - vxr) * t3 + dx3 = (vx2 - vxr) * t2 + dx2
    // (vy3 - vyr) * t3 + dy3 = (vy2 - vyr) * t2 + dy2
    // (vz3 - vzr) * t3 + dz3 = (vz2 - vzr) * t2 + dz2

    // (vx1 - vxr) * t1 + dx1 - dx2 = (vx2 - vxr) * t2
    // (vy1 - vyr) * t1 + dy1 - dy2 = (vy2 - vyr) * t2
    // (vz1 - vzr) * t1 + dz1 - dz2 = (vz2 - vzr) * t2
    // (vx3 - vxr) * t3 + dx3 - dx2 = (vx2 - vxr) * t2
    // (vy3 - vyr) * t3 + dy3 - dy2 = (vy2 - vyr) * t2
    // (vz3 - vzr) * t3 + dz3 - dz2 = (vz2 - vzr) * t2

    // ((vx1 - vxr) * t1 + dx1 - dx2) / (vx2 - vxr) = t2
    // ((vy1 - vyr) * t1 + dy1 - dy2) / (vy2 - vyr) = t2
    // ((vz1 - vzr) * t1 + dz1 - dz2) / (vz2 - vzr) = t2
    // ((vx3 - vxr) * t3 + dx3 - dx2) / (vx2 - vxr) = t2
    // ((vy3 - vyr) * t3 + dy3 - dy2) / (vy2 - vyr) = t2
    // ((vz3 - vzr) * t3 + dz3 - dz2) / (vz2 - vzr) = t2

    // (1) ((vx1 - vxr) * t1 + dx1 - dx2) / (vx2 - vxr) = ((vy1 - vyr) * t1 + dy1 - dy2) / (vy2 - vyr)
    // (2) ((vz1 - vzr) * t1 + dz1 - dz2) / (vz2 - vzr) = ((vx3 - vxr) * t3 + dx3 - dx2) / (vx2 - vxr)
    // (3) ((vy3 - vyr) * t3 + dy3 - dy2) / (vy2 - vyr) = ((vz3 - vzr) * t3 + dz3 - dz2) / (vz2 - vzr)

    // (1) ((vx1 - vxr) * t1 + dx1 - dx2) / (vx2 - vxr) = ((vy1 - vyr) * t1 + dy1 - dy2) / (vy2 - vyr)
    // (1) ((vx1 - vxr) * t1 + dx1 - dx2) * (vy2 - vyr) = ((vy1 - vyr) * t1 + dy1 - dy2) * (vx2 - vxr)
    // (1) (vx1 - vxr) * (vy2 - vyr) * t1 + dx1 * (vy2 - vyr) - dx2 * (vy2 - vyr) = (vy1 - vyr) * (vx2 - vxr) * t1 + dy1 * (vx2 - vxr) - dy2 * (vx2 - vxr)
    // (1) ((vx1 - vxr) * (vy2 - vyr) - (vy1 - vyr) * (vx2 - vxr)) * t1 = dy1 * (vx2 - vxr) - dy2 * (vx2 - vxr) - dx1 * (vy2 - vyr) + dx2 * (vy2 - vyr)
    // (1) t1 = (dy1 * (vx2 - vxr) - dy2 * (vx2 - vxr) - dx1 * (vy2 - vyr) + dx2 * (vy2 - vyr)) / ((vx1 - vxr) * (vy2 - vyr) - (vy1 - vyr) * (vx2 - vxr))

    // (3) ((vy3 - vyr) * t3 + dy3 - dy2) / (vy2 - vyr) = ((vz3 - vzr) * t3 + dz3 - dz2) / (vz2 - vzr)
    // (3) ((vy3 - vyr) * t3 + dy3 - dy2) * (vz2 - vzr) = ((vz3 - vzr) * t3 + dz3 - dz2) * (vy2 - vyr)
    // (3) (vy3 - vyr) * (vz2 - vzr) * t3 + dy3 * (vz2 - vzr) - dy2 * (vz2 - vzr) = (vz3 - vzr) * (vy2 - vyr) * t3 + dz3 * (vy2 - vyr) - dz2 * (vy2 - vyr)
    // (3) ((vy3 - vyr) * (vz2 - vzr) - (vz3 - vzr) * (vy2 - vyr)) * t3 = dz3 * (vy2 - vyr) - dz2 * (vy2 - vyr) - dy3 * (vz2 - vzr) + dy2 * (vz2 - vzr)
    // (3) t3 = (dz3 * (vy2 - vyr) - dz2 * (vy2 - vyr) - dy3 * (vz2 - vzr) + dy2 * (vz2 - vzr)) / ((vy3 - vyr) * (vz2 - vzr) - (vz3 - vzr) * (vy2 - vyr))

    val dx1 = equations[0].location.x
    val dy1 = equations[0].location.y
    val dz1 = equations[0].location.z
    val vx1 = equations[0].velocity.x
    val vy1 = equations[0].velocity.y
    val vz1 = equations[0].velocity.z

    val dx2 = equations[1].location.x
    val dy2 = equations[1].location.y
    val dz2 = equations[1].location.z
    val vx2 = equations[1].velocity.x
    val vy2 = equations[1].velocity.y
    val vz2 = equations[1].velocity.z

    val dx3 = equations[2].location.x
    val dy3 = equations[2].location.y
    val dz3 = equations[2].location.z
    val vx3 = equations[2].velocity.x
    val vy3 = equations[2].velocity.y
    val vz3 = equations[2].velocity.z

    for (vxr in -300..300) {
        for (vyr in -300..300) {
            for (vzr in -300..300) {
                val t1 =
                    (dy1 * (vx2 - vxr) - dy2 * (vx2 - vxr) - dx1 * (vy2 - vyr) + dx2 * (vy2 - vyr)) / ((vx1 - vxr) * (vy2 - vyr) - (vy1 - vyr) * (vx2 - vxr)).toDouble()
                val t3 =
                    (dz3 * (vy2 - vyr) - dz2 * (vy2 - vyr) - dy3 * (vz2 - vzr) + dy2 * (vz2 - vzr)) / ((vy3 - vyr) * (vz2 - vzr) - (vz3 - vzr) * (vy2 - vyr)).toDouble()
                if (((vz1 - vzr) * t1 + dz1 - dz2) / (vz2 - vzr).toDouble() == ((vx3 - vxr) * t3 + dx3 - dx2) / (vx2 - vxr).toDouble()) {
                    println("found solution vxr=$vxr vyr=$vyr vzr=$vzr t1=$t1 t3=$t3")
                    val t2 = ((vz3 - vzr) * t3 + dz3 - dz2) / (vz2 - vzr).toDouble()
                    println("t2=$t2")
                    val dxr = vx1 * t1 + dx1 - vxr * t1
                    val dyr = vy1 * t1 + dy1 - vyr * t1
                    val dzr = vz1 * t1 + dz1 - vzr * t1
                    println("dxr=$dxr dyr=$dyr dzr=$dzr")
                    return (dxr + dyr + dzr).toLong()
                }
            }
        }
    }

    return 0
}
